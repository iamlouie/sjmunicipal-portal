<section class="welcome position-relative">
  <div class="inner hero-panel">
  <h2 class="welcome-head animate-in" aria-label="Welcome message">Welcome to San Juan <em>Cabalian</em> Municipal Portal</h2>
  <p class="welcome-tag animate-in-delayed">Streamlining services, insights, and operations for our community.</p>
  <div class="c-carousel" role="region" aria-label="Municipal showcase" (mouseenter)="pause()" (mouseleave)="resume()">
      <div class="c-slides">
        <figure *ngFor="let s of slides; let i = index" class="c-slide" [class.active]="i===current" [attr.aria-hidden]="i===current ? 'false':'true'">
          <ng-container [ngSwitch]="s.type">
            <img *ngSwitchCase="'image'" [src]="s.src" [alt]="s.alt" />
            <div *ngSwitchCase="'video'" class="c-video-wrap">
              <video #vid [attr.title]="s.alt" playsinline controls class="c-video" preload="metadata" (play)="onVideoPlay()" (pause)="onVideoPause()" (ended)="onVideoEnded()">
                <source [src]="s.src" type="video/mp4" />
                {{ s.alt }}
              </video>
              <button
                type="button"
                class="video-inline-play"
                *ngIf="i===current && showPlayOverlay"
                (click)="playCurrentVideo()"
                aria-label="Play video"
              >
                <span aria-hidden="true">â–¶</span>
              </button>
            </div>
          </ng-container>
          <figcaption class="c-caption d-none d-sm-inline-block">
            <h5 class="c-cap-title">{{ s.title || s.alt }}</h5>
            <p class="c-cap-tag" *ngIf="s.tagline">{{ s.tagline }}</p>
          </figcaption>
        </figure>
      </div>
      <button type="button" class="c-nav prev" (click)="prev()" aria-label="Previous slide">â€¹</button>
      <button type="button" class="c-nav next" (click)="next()" aria-label="Next slide">â€º</button>
      <div class="c-dots" role="tablist">
        <button *ngFor="let s of slides; let i = index" type="button" class="c-dot" [class.active]="i===current" (click)="go(i)" [attr.aria-label]="'Go to slide ' + (i+1)" [attr.aria-selected]="i===current"></button>
      </div>
  <span class="visually-hidden" aria-live="polite">Slide {{ current+1 }} of {{ slides.length }}: {{ slides[current].alt }}</span>
    </div>
  </div>
</section>
<section class="dashboard-cards" aria-label="Key metrics overview">
  <div class="cards-grid">
    <div class="card metric">
      <h3><span class="metric__icon" aria-hidden="true">ğŸ‘¥</span>Population</h3>
      <p class="metric__value">42,318</p>
      <p class="metric__delta positive">+2.1% YoY</p>
    </div>
    <div class="card metric">
      <h3><span class="metric__icon" aria-hidden="true">ğŸ“„</span>Active Permits</h3>
      <p class="metric__value">1,284</p>
      <p class="metric__delta neutral">On Track</p>
    </div>
    <div class="card metric">
      <h3><span class="metric__icon" aria-hidden="true">ğŸ› ï¸</span>Open Job Orders</h3>
      <p class="metric__value">87</p>
      <p class="metric__delta warning">+12 pending</p>
    </div>
    <div class="card metric">
      <h3><span class="metric__icon" aria-hidden="true">ğŸ“¬</span>Resident Requests</h3>
      <p class="metric__value">56</p>
      <p class="metric__delta">Updated hourly</p>
    </div>
  </div>
</section>
