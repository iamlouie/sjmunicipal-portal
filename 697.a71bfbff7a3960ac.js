"use strict";(self.webpackChunkmunicipal_management=self.webpackChunkmunicipal_management||[]).push([[697],{697:(ue,u,g)=>{g.r(u),g.d(u,{ResidentsComponent:()=>le});var e=g(4438),f=g(177),l=g(4341),h=g(1626),b=g(1092),C=g(671),M=g(2408);const x=()=>[1,2,3,4,5,6,7,8];function F(a,s){1&a&&(e.j41(0,"div",20),e.nrm(1,"div",21)(2,"div",21)(3,"div",21)(4,"div",21)(5,"div",21)(6,"div",21)(7,"div",21)(8,"div",21)(9,"div",21)(10,"div",21)(11,"div",21),e.k0s())}function v(a,s){1&a&&(e.j41(0,"div",16)(1,"div",17),e.DNE(2,F,12,0,"div",18),e.k0s(),e.j41(3,"p",19),e.EFF(4,"Loading residents..."),e.k0s()()),2&a&&(e.R7$(2),e.Y8G("ngForOf",e.lJ4(1,x)))}function j(a,s){if(1&a&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.JRh(t.error)}}function k(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",38)(1,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.reopenNotice())}),e.EFF(2,"\u2139\ufe0f"),e.k0s()()}}function R(a,s){if(1&a&&(e.j41(0,"span",40),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.JRh(t.activeFilterCount)}}function y(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",41)(1,"div",42)(2,"button",43),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportResidents())}),e.j41(3,"span",28),e.EFF(4,"\u{1f4e4}"),e.k0s(),e.j41(5,"span",29),e.EFF(6,"Export"),e.k0s()(),e.j41(7,"label",44)(8,"input",45),e.bIt("change",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onImportFile(n))}),e.k0s(),e.j41(9,"span",28),e.EFF(10,"\u{1f4e5}"),e.k0s(),e.j41(11,"span",29),e.EFF(12,"Import"),e.k0s()(),e.j41(13,"button",46),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openCreate())}),e.j41(14,"span",28),e.EFF(15,"\u2795"),e.k0s(),e.j41(16,"span",29),e.EFF(17,"Add Resident"),e.k0s()()()()}}function N(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",83),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onNameInput(""))}),e.EFF(1,"\xd7"),e.k0s()}}function O(a,s){if(1&a&&(e.j41(0,"option",84),e.EFF(1),e.k0s()),2&a){const t=s.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function E(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",85),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return n.filterBarangay="",e.Njj(n.applyFilters())}),e.EFF(1,"\xd7"),e.k0s()}}function P(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",86),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return n.filterOccupation="",e.Njj(n.applyFilters())}),e.EFF(1,"\xd7"),e.k0s()}}function w(a,s){if(1&a&&(e.j41(0,"option",84),e.EFF(1),e.k0s()),2&a){const t=s.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function S(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",87),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return n.filterCivilStatus="",e.Njj(n.applyFilters())}),e.EFF(1,"\xd7"),e.k0s()}}function I(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",88),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return n.filterStatus="",e.Njj(n.applyFilters())}),e.EFF(1,"\xd7"),e.k0s()}}function G(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",89),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return n.filterGender="",e.Njj(n.applyFilters())}),e.EFF(1,"\xd7"),e.k0s()}}function T(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",47)(1,"form",48),e.bIt("ngSubmit",function(n){e.eBV(t);const o=e.XpG(2);return n.preventDefault(),e.Njj(o.applyFilters())}),e.j41(2,"div",49)(3,"label",50),e.EFF(4,"Name"),e.k0s(),e.j41(5,"div",51)(6,"input",52),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.filterName,n)||(o.filterName=n),e.Njj(n)}),e.bIt("input",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onNameInput(n.target.value))}),e.k0s(),e.DNE(7,N,2,0,"button",53),e.k0s()(),e.j41(8,"div",49)(9,"label",54),e.EFF(10,"Barangay"),e.k0s(),e.j41(11,"div",51)(12,"select",55),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.filterBarangay,n)||(o.filterBarangay=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.applyFilters())}),e.j41(13,"option",56),e.EFF(14,"Any"),e.k0s(),e.DNE(15,O,2,2,"option",57),e.k0s(),e.DNE(16,E,2,0,"button",58),e.k0s()(),e.j41(17,"div",49)(18,"label",59),e.EFF(19,"Occupation"),e.k0s(),e.j41(20,"div",51)(21,"input",60),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.filterOccupation,n)||(o.filterOccupation=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.applyFilters())}),e.k0s(),e.DNE(22,P,2,0,"button",61),e.k0s()(),e.j41(23,"div",49)(24,"label",62),e.EFF(25,"Civil Status"),e.k0s(),e.j41(26,"div",51)(27,"select",63),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.filterCivilStatus,n)||(o.filterCivilStatus=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.applyFilters())}),e.j41(28,"option",56),e.EFF(29,"Any"),e.k0s(),e.DNE(30,w,2,2,"option",57),e.k0s(),e.DNE(31,S,2,0,"button",64),e.k0s()(),e.j41(32,"div",49)(33,"label",65),e.EFF(34,"Record Status"),e.k0s(),e.j41(35,"div",51)(36,"select",66),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.filterStatus,n)||(o.filterStatus=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.applyFilters())}),e.j41(37,"option",56),e.EFF(38,"Any"),e.k0s(),e.j41(39,"option",67),e.EFF(40,"Active"),e.k0s(),e.j41(41,"option",68),e.EFF(42,"Deceased"),e.k0s()(),e.DNE(43,I,2,0,"button",69),e.k0s()(),e.j41(44,"div",49)(45,"label",70),e.EFF(46,"Gender"),e.k0s(),e.j41(47,"div",51)(48,"select",71),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.filterGender,n)||(o.filterGender=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.applyFilters())}),e.j41(49,"option",56),e.EFF(50,"Any"),e.k0s(),e.j41(51,"option",72),e.EFF(52,"Male"),e.k0s(),e.j41(53,"option",73),e.EFF(54,"Female"),e.k0s(),e.j41(55,"option",74),e.EFF(56,"Other"),e.k0s()(),e.DNE(57,G,2,0,"button",75),e.k0s()(),e.j41(58,"div",49)(59,"label"),e.EFF(60,"Age Range"),e.k0s(),e.j41(61,"div",76)(62,"input",77),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.filterAgeMin,n)||(o.filterAgeMin=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.applyFilters())}),e.k0s(),e.j41(63,"span",78),e.EFF(64,"\u2013"),e.k0s(),e.j41(65,"input",79),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.filterAgeMax,n)||(o.filterAgeMax=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.applyFilters())}),e.k0s()()(),e.j41(66,"div",80)(67,"button",81),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.resetFilters())}),e.EFF(68,"Reset"),e.k0s(),e.j41(69,"span",82),e.EFF(70),e.k0s()()()()}if(2&a){const t=e.XpG(2);e.R7$(6),e.R50("ngModel",t.filterName),e.R7$(),e.Y8G("ngIf",t.filterName),e.R7$(5),e.R50("ngModel",t.filterBarangay),e.R7$(3),e.Y8G("ngForOf",t.uniqueBarangays),e.R7$(),e.Y8G("ngIf",t.filterBarangay),e.R7$(5),e.R50("ngModel",t.filterOccupation),e.R7$(),e.Y8G("ngIf",t.filterOccupation),e.R7$(5),e.R50("ngModel",t.filterCivilStatus),e.R7$(3),e.Y8G("ngForOf",t.uniqueCivilStatuses),e.R7$(),e.Y8G("ngIf",t.filterCivilStatus),e.R7$(5),e.R50("ngModel",t.filterStatus),e.R7$(7),e.Y8G("ngIf",t.filterStatus),e.R7$(5),e.R50("ngModel",t.filterGender),e.R7$(9),e.Y8G("ngIf",t.filterGender),e.R7$(5),e.R50("ngModel",t.filterAgeMin),e.R7$(3),e.R50("ngModel",t.filterAgeMax),e.R7$(5),e.Lme("",t.filtered.length," result",1===t.filtered.length?"":"s","")}}function B(a,s){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td"),e.EFF(18),e.k0s(),e.j41(19,"td")(20,"span",91),e.EFF(21),e.k0s()(),e.j41(22,"td")(23,"button",92),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(3);return e.Njj(o.open(n))}),e.EFF(24,"View"),e.k0s()()()}if(2&a){const t=s.$implicit,i=s.index,n=e.XpG(3);e.R7$(2),e.JRh((n.currentPage-1)*n.pageSize+i+1),e.R7$(2),e.JRh(t.firstName),e.R7$(2),e.JRh(t.middleName),e.R7$(2),e.JRh(t.lastName),e.R7$(2),e.JRh(t.age),e.R7$(2),e.JRh(t.gender),e.R7$(2),e.JRh(t.occupation),e.R7$(2),e.JRh(t.barangay),e.R7$(2),e.JRh(t.civilStatus),e.R7$(2),e.AVh("status-chip--deceased","Deceased"===t.status),e.R7$(),e.JRh(t.status),e.R7$(2),e.BMQ("aria-label","View resident "+t.firstName+" "+t.lastName)}}function D(a,s){if(1&a&&(e.qex(0),e.DNE(1,B,25,13,"tr",90),e.bVm()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.residentsLimited)("ngForTrackBy",t.trackByResident)}}function V(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",100),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.resetFilters())}),e.EFF(1,"Reset Filters"),e.k0s()}}function X(a,s){if(1&a&&(e.j41(0,"tr",93)(1,"td",94)(2,"div",95)(3,"div",96),e.EFF(4,"\u{1f50e}"),e.k0s(),e.j41(5,"h3",97),e.EFF(6,"No matching residents"),e.k0s(),e.j41(7,"p",98),e.EFF(8,"Try adjusting or clearing your filters to broaden the results."),e.k0s(),e.DNE(9,V,2,0,"button",99),e.k0s()()()),2&a){const t=e.XpG(2);e.R7$(9),e.Y8G("ngIf",t.hasActiveFilters)}}function A(a,s){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"button",104),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG(3);return e.Njj(o.goTo(n))}),e.EFF(2),e.k0s(),e.bVm()}if(2&a){const t=s.$implicit,i=e.XpG(3);e.R7$(),e.AVh("page-btn--active",t===i.currentPage),e.BMQ("aria-current",t===i.currentPage?"page":null),e.R7$(),e.JRh(t)}}function $(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",101)(1,"button",102),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.prev())}),e.EFF(2,"\u2039"),e.k0s(),e.DNE(3,A,3,4,"ng-container",90),e.j41(4,"button",103),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.next())}),e.EFF(5,"\u203a"),e.k0s()()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("disabled",1===t.currentPage),e.R7$(2),e.Y8G("ngForOf",t.pages)("ngForTrackBy",t.trackByPage),e.R7$(),e.Y8G("disabled",t.currentPage===t.totalPages)}}function Y(a,s){if(1&a){const t=e.RV6();e.j41(0,"div"),e.DNE(1,k,3,0,"div",23),e.j41(2,"div",24)(3,"div",25)(4,"div",26)(5,"button",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFilters())}),e.j41(6,"span",28),e.EFF(7,"\u{1f50d}"),e.k0s(),e.j41(8,"span",29),e.EFF(9,"Filter"),e.k0s(),e.DNE(10,R,2,1,"span",30),e.k0s()(),e.DNE(11,y,18,0,"div",31),e.k0s(),e.DNE(12,T,71,18,"div",32),e.k0s(),e.j41(13,"div",33)(14,"table",34)(15,"thead")(16,"tr")(17,"th",35),e.EFF(18,"#"),e.k0s(),e.j41(19,"th",35),e.EFF(20,"First Name"),e.k0s(),e.j41(21,"th",35),e.EFF(22,"Middle Name"),e.k0s(),e.j41(23,"th",35),e.EFF(24,"Last Name"),e.k0s(),e.j41(25,"th",35),e.EFF(26,"Age"),e.k0s(),e.j41(27,"th",35),e.EFF(28,"Gender"),e.k0s(),e.j41(29,"th",35),e.EFF(30,"Occupation"),e.k0s(),e.j41(31,"th",35),e.EFF(32,"Barangay"),e.k0s(),e.j41(33,"th",35),e.EFF(34,"Civil Status"),e.k0s(),e.j41(35,"th",35),e.EFF(36,"Status"),e.k0s(),e.j41(37,"th",35),e.EFF(38,"Action"),e.k0s()()(),e.j41(39,"tbody"),e.DNE(40,D,2,2,"ng-container",36),e.k0s()()(),e.DNE(41,X,10,1,"ng-template",null,0,e.C5r)(43,$,6,4,"div",37),e.k0s()}if(2&a){const t=e.sdS(42),i=e.XpG();e.R7$(),e.Y8G("ngIf",!i.showNotice),e.R7$(4),e.AVh("filter-toggle--active",i.hasActiveFilters),e.BMQ("aria-expanded",i.showFilters)("aria-label",i.hasActiveFilters?"Filters active: "+i.activeFilterCount+" applied. Toggle filter panel":"Toggle filter panel"),e.R7$(5),e.Y8G("ngIf",i.hasActiveFilters),e.R7$(),e.Y8G("ngIf",i.isAdmin),e.R7$(),e.Y8G("ngIf",i.showFilters),e.R7$(28),e.Y8G("ngIf",i.filtered.length>0)("ngIfElse",t),e.R7$(3),e.Y8G("ngIf",i.residents.length>i.pageSize)}}function z(a,s){1&a&&e.nrm(0,"div",105)}function L(a,s){1&a&&(e.j41(0,"p",116),e.EFF(1,"This notice will be skipped next time."),e.k0s())}function H(a,s){1&a&&(e.j41(0,"p",116),e.EFF(1,"This notice will appear again on next visit."),e.k0s())}function q(a,s){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"div",117),e.EFF(2,"Click Continue to proceed to the Add Resident form. Review the guidance above before continuing."),e.k0s(),e.j41(3,"div",118)(4,"button",119),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.cancelPendingCreate())}),e.EFF(5,"Cancel"),e.k0s(),e.j41(6,"button",120),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.dismissNotice(!0))}),e.EFF(7,"Continue"),e.k0s()()()}}function J(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",121)(1,"button",120),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.dismissNotice(!0))}),e.EFF(2,"Continue"),e.k0s()()}}function U(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",106)(1,"div",107),e.nrm(2,"div",108),e.j41(3,"h3",109)(4,"span",110),e.EFF(5,"\u26a0\ufe0f"),e.k0s(),e.EFF(6," Important Notice"),e.k0s(),e.j41(7,"div",111)(8,"p")(9,"strong"),e.EFF(10,"Data Integrity Reminder:"),e.k0s(),e.EFF(11," Please verify a resident does not already exist before adding a new record. Duplicate entries can affect reports and analytics."),e.k0s(),e.j41(12,"ul",112)(13,"li"),e.EFF(14,"Search by full name and barangay first."),e.k0s(),e.j41(15,"li"),e.EFF(16,"Update existing records instead of creating new duplicates."),e.k0s(),e.j41(17,"li"),e.EFF(18,"Mark status accurately (Active / Deceased)."),e.k0s()(),e.j41(19,"label",113)(20,"input",114),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.noticeDontShow,n)||(o.noticeDontShow=n),e.Njj(n)}),e.k0s(),e.EFF(21," Don't show again automatically"),e.k0s(),e.DNE(22,L,2,0,"p",115)(23,H,2,0,"p",115),e.k0s(),e.DNE(24,q,8,0,"div",36)(25,J,3,0,"ng-template",null,1,e.C5r),e.k0s()()}if(2&a){const t=e.sdS(26),i=e.XpG();e.R7$(20),e.R50("ngModel",i.noticeDontShow),e.R7$(2),e.Y8G("ngIf",i.noticeDontShow),e.R7$(),e.Y8G("ngIf",!i.noticeDontShow),e.R7$(),e.Y8G("ngIf",i.pendingCreate)("ngIfElse",t)}}function K(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",122),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.close())}),e.k0s()}}function W(a,s){if(1&a&&(e.j41(0,"h3",131),e.EFF(1),e.k0s()),2&a){const t=e.XpG().ngIf;e.R7$(),e.E5c("",t.firstName," ",t.middleName," ",t.lastName,"")}}function Q(a,s){if(1&a&&(e.j41(0,"option",84),e.EFF(1),e.k0s()),2&a){const t=s.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function Z(a,s){1&a&&(e.j41(0,"p",165),e.EFF(1,"Highlighted fields have unsaved changes."),e.k0s())}function ee(a,s){if(1&a){const t=e.RV6();e.j41(0,"form",132),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.submitEditProfile())}),e.j41(1,"div",133)(2,"div")(3,"label",134),e.EFF(4,"First Name "),e.j41(5,"span",135),e.EFF(6,"*"),e.k0s()(),e.j41(7,"input",136),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.firstName,n)||(o.editModel.firstName=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.markEditChanged("firstName"))}),e.k0s()(),e.j41(8,"div")(9,"label",137),e.EFF(10,"Middle Name"),e.k0s(),e.j41(11,"input",138),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.middleName,n)||(o.editModel.middleName=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.markEditChanged("middleName"))}),e.k0s()(),e.j41(12,"div")(13,"label",139),e.EFF(14,"Last Name "),e.j41(15,"span",135),e.EFF(16,"*"),e.k0s()(),e.j41(17,"input",140),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.lastName,n)||(o.editModel.lastName=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.markEditChanged("lastName"))}),e.k0s()()(),e.j41(18,"div",133)(19,"div")(20,"label",141),e.EFF(21,"Birthday"),e.k0s(),e.j41(22,"input",142),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.birthday,n)||(o.editModel.birthday=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return o.editModel.birthday=n,e.Njj(o.markEditChanged("birthday"))}),e.k0s()(),e.j41(23,"div")(24,"label",143),e.EFF(25,"Gender "),e.j41(26,"span",135),e.EFF(27,"*"),e.k0s()(),e.j41(28,"select",144),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.gender,n)||(o.editModel.gender=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.markEditChanged("gender"))}),e.j41(29,"option",145),e.EFF(30,"Select gender"),e.k0s(),e.j41(31,"option"),e.EFF(32,"Male"),e.k0s(),e.j41(33,"option"),e.EFF(34,"Female"),e.k0s(),e.j41(35,"option"),e.EFF(36,"Other"),e.k0s()()(),e.j41(37,"div")(38,"label",146),e.EFF(39,"Occupation"),e.k0s(),e.j41(40,"input",147),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.occupation,n)||(o.editModel.occupation=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.markEditChanged("occupation"))}),e.k0s()(),e.j41(41,"div")(42,"label",148),e.EFF(43,"Street"),e.k0s(),e.j41(44,"input",149),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.street,n)||(o.editModel.street=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.markEditChanged("street"))}),e.k0s()()(),e.j41(45,"div",133)(46,"div")(47,"label",150),e.EFF(48,"Civil Status "),e.j41(49,"span",135),e.EFF(50,"*"),e.k0s()(),e.j41(51,"select",151),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.civilStatus,n)||(o.editModel.civilStatus=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.markEditChanged("civilStatus"))}),e.j41(52,"option",145),e.EFF(53,"Select status"),e.k0s(),e.j41(54,"option"),e.EFF(55,"Single"),e.k0s(),e.j41(56,"option"),e.EFF(57,"Married"),e.k0s(),e.j41(58,"option"),e.EFF(59,"Widowed"),e.k0s(),e.j41(60,"option"),e.EFF(61,"Separated"),e.k0s()()(),e.j41(62,"div")(63,"label",152),e.EFF(64,"Record Status "),e.j41(65,"span",135),e.EFF(66,"*"),e.k0s()(),e.j41(67,"select",153),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.status,n)||(o.editModel.status=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.markEditChanged("status"))}),e.j41(68,"option",67),e.EFF(69,"Active"),e.k0s(),e.j41(70,"option",68),e.EFF(71,"Deceased"),e.k0s()()(),e.j41(72,"div")(73,"label",154),e.EFF(74,"Barangay "),e.j41(75,"span",135),e.EFF(76,"*"),e.k0s()(),e.j41(77,"select",155),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.barangay,n)||(o.editModel.barangay=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.markEditChanged("barangay"))}),e.j41(78,"option",145),e.EFF(79,"Select barangay"),e.k0s(),e.DNE(80,Q,2,2,"option",57),e.k0s()(),e.j41(81,"div",156)(82,"label",157),e.EFF(83,"Contact Number"),e.k0s(),e.j41(84,"input",158),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.contactNumber,n)||(o.editModel.contactNumber=n),e.Njj(n)}),e.bIt("keydown",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onContactKeyDown(n))})("paste",function(n){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onContactPaste(n,!0))})("input",function(){e.eBV(t);const n=e.XpG(2);return n.sanitizeEditContact(),e.Njj(n.markEditChanged("contactNumber"))}),e.k0s()(),e.j41(85,"div",159)(86,"label"),e.EFF(87,"Age (auto)"),e.k0s(),e.j41(88,"div",160),e.EFF(89),e.k0s()()(),e.j41(90,"div",161)(91,"button",162),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.cancelEditProfile())}),e.EFF(92,"Cancel"),e.k0s(),e.j41(93,"button",163),e.EFF(94),e.k0s()(),e.DNE(95,Z,2,0,"p",164),e.k0s()}if(2&a){let t;const i=e.XpG(2);e.AVh("form--dirty",i.isEditDirty),e.R7$(7),e.AVh("field-changed",i.editChanged.firstName),e.R50("ngModel",i.editModel.firstName),e.R7$(4),e.AVh("field-changed",i.editChanged.middleName),e.R50("ngModel",i.editModel.middleName),e.R7$(6),e.AVh("field-changed",i.editChanged.lastName),e.R50("ngModel",i.editModel.lastName),e.R7$(5),e.AVh("field-changed",i.editChanged.birthday),e.R50("ngModel",i.editModel.birthday),e.R7$(6),e.AVh("field-changed",i.editChanged.gender),e.R50("ngModel",i.editModel.gender),e.R7$(12),e.AVh("field-changed",i.editChanged.occupation),e.R50("ngModel",i.editModel.occupation),e.R7$(4),e.AVh("field-changed",i.editChanged.street),e.R50("ngModel",i.editModel.street),e.R7$(7),e.AVh("field-changed",i.editChanged.civilStatus),e.R50("ngModel",i.editModel.civilStatus),e.R7$(16),e.AVh("field-changed",i.editChanged.status),e.R50("ngModel",i.editModel.status),e.R7$(10),e.AVh("field-changed",i.editChanged.barangay),e.R50("ngModel",i.editModel.barangay),e.R7$(3),e.Y8G("ngForOf",i.barangayOptions),e.R7$(4),e.AVh("field-changed",i.editChanged.contactNumber),e.R50("ngModel",i.editModel.contactNumber),e.R7$(4),e.BMQ("aria-live",i.editModel.birthday?"polite":null),e.R7$(),e.SpI(" ",i.editModel.birthday&&null!==(t=i.editModel.age)&&void 0!==t?t:i.selected.age," "),e.R7$(2),e.Y8G("disabled",i.updating),e.R7$(2),e.Y8G("disabled",i.updating||!i.isEditDirty||!i.editModel.firstName||!i.editModel.lastName||!i.editModel.gender||!i.editModel.barangay||!i.editModel.civilStatus||!i.editModel.status),e.R7$(),e.JRh(i.updating?"Saving...":"Save Changes"),e.R7$(),e.Y8G("ngIf",i.isEditDirty)}}function te(a,s){if(1&a&&(e.j41(0,"div",166)(1,"p")(2,"strong"),e.EFF(3,"Age:"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"p")(6,"strong"),e.EFF(7,"Gender:"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"p")(10,"strong"),e.EFF(11,"Birthday:"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"p")(14,"strong"),e.EFF(15,"Contact:"),e.k0s(),e.EFF(16),e.k0s(),e.j41(17,"p")(18,"strong"),e.EFF(19,"Occupation:"),e.k0s(),e.EFF(20),e.k0s(),e.j41(21,"p")(22,"strong"),e.EFF(23,"Barangay:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"p")(26,"strong"),e.EFF(27,"Civil Status:"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"p")(30,"strong"),e.EFF(31,"Status:"),e.k0s(),e.j41(32,"span",91),e.EFF(33),e.k0s()()()),2&a){const t=e.XpG().ngIf;e.R7$(4),e.SpI(" ",t.age,""),e.R7$(4),e.SpI(" ",t.gender||"\u2014",""),e.R7$(4),e.SpI(" ",t.birthday||"\u2014",""),e.R7$(4),e.SpI(" ",t.contactNumber||"\u2014",""),e.R7$(4),e.SpI(" ",t.occupation||"\u2014",""),e.R7$(4),e.SpI(" ",t.barangay,""),e.R7$(4),e.SpI(" ",t.civilStatus,""),e.R7$(4),e.AVh("status-chip--deceased","Deceased"===t.status),e.R7$(),e.JRh(t.status)}}function ne(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",120),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.startEdit())}),e.EFF(1,"Edit"),e.k0s()}}function ie(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",161),e.DNE(1,ne,2,0,"button",167),e.j41(2,"button",168),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.close())}),e.EFF(3,"Close"),e.k0s()()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.isAdmin)}}function oe(a,s){if(1&a&&(e.j41(0,"div",123)(1,"div",124)(2,"div",125)(3,"span",126),e.EFF(4,"\u{1f464}"),e.k0s(),e.EFF(5," RESIDENT PROFILE "),e.k0s(),e.DNE(6,W,2,3,"h3",127)(7,ee,96,42,"form",128)(8,te,34,10,"div",129)(9,ie,4,1,"div",130),e.k0s()()),2&a){const t=s.ngIf,i=e.XpG();e.BMQ("aria-labelledby","resident-title-"+t.id),e.R7$(2),e.Y8G("id","resident-title-"+t.id),e.R7$(4),e.Y8G("ngIf",!i.editing),e.R7$(),e.Y8G("ngIf",i.editing),e.R7$(),e.Y8G("ngIf",!i.editing),e.R7$(),e.Y8G("ngIf",!i.editing)}}function ae(a,s){1&a&&e.nrm(0,"div",105)}function re(a,s){if(1&a&&(e.j41(0,"option",84),e.EFF(1),e.k0s()),2&a){const t=s.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function se(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",169)(1,"div",124)(2,"div",170)(3,"span",126),e.EFF(4,"\u2795"),e.k0s(),e.EFF(5," ADD RESIDENT "),e.k0s(),e.j41(6,"form",171,2),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveResident())}),e.j41(8,"div",133)(9,"div")(10,"label",172),e.EFF(11,"First Name "),e.j41(12,"span",135),e.EFF(13,"*"),e.k0s()(),e.j41(14,"input",173),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.firstName,n)||(o.createModel.firstName=n),e.Njj(n)}),e.k0s()(),e.j41(15,"div")(16,"label",174),e.EFF(17,"Middle Name"),e.k0s(),e.j41(18,"input",175),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.middleName,n)||(o.createModel.middleName=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div")(20,"label",176),e.EFF(21,"Last Name "),e.j41(22,"span",135),e.EFF(23,"*"),e.k0s()(),e.j41(24,"input",177),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.lastName,n)||(o.createModel.lastName=n),e.Njj(n)}),e.k0s()()(),e.j41(25,"div",133)(26,"div")(27,"label",178),e.EFF(28,"Birthday "),e.j41(29,"span",135),e.EFF(30,"*"),e.k0s()(),e.j41(31,"input",179),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.birthday,n)||(o.createModel.birthday=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.onBirthdayChange(n))}),e.k0s()(),e.j41(32,"div")(33,"label",180),e.EFF(34,"Gender "),e.j41(35,"span",135),e.EFF(36,"*"),e.k0s()(),e.j41(37,"select",181),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.gender,n)||(o.createModel.gender=n),e.Njj(n)}),e.j41(38,"option",145),e.EFF(39,"Select gender"),e.k0s(),e.j41(40,"option"),e.EFF(41,"Male"),e.k0s(),e.j41(42,"option"),e.EFF(43,"Female"),e.k0s(),e.j41(44,"option"),e.EFF(45,"Other"),e.k0s()()(),e.j41(46,"div")(47,"label",182),e.EFF(48,"Occupation"),e.k0s(),e.j41(49,"input",183),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.occupation,n)||(o.createModel.occupation=n),e.Njj(n)}),e.k0s()(),e.j41(50,"div")(51,"label",184),e.EFF(52,"Street"),e.k0s(),e.j41(53,"input",185),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.street,n)||(o.createModel.street=n),e.Njj(n)}),e.k0s()()(),e.j41(54,"div",133)(55,"div")(56,"label",186),e.EFF(57,"Civil Status "),e.j41(58,"span",135),e.EFF(59,"*"),e.k0s()(),e.j41(60,"select",187),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.civilStatus,n)||(o.createModel.civilStatus=n),e.Njj(n)}),e.j41(61,"option",145),e.EFF(62,"Select status"),e.k0s(),e.j41(63,"option"),e.EFF(64,"Single"),e.k0s(),e.j41(65,"option"),e.EFF(66,"Married"),e.k0s(),e.j41(67,"option"),e.EFF(68,"Widowed"),e.k0s(),e.j41(69,"option"),e.EFF(70,"Separated"),e.k0s()()(),e.j41(71,"div")(72,"label",188),e.EFF(73,"Record Status "),e.j41(74,"span",135),e.EFF(75,"*"),e.k0s()(),e.j41(76,"select",189),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.status,n)||(o.createModel.status=n),e.Njj(n)}),e.j41(77,"option",67),e.EFF(78,"Active"),e.k0s(),e.j41(79,"option",68),e.EFF(80,"Deceased"),e.k0s()()(),e.j41(81,"div")(82,"label",190),e.EFF(83,"Barangay "),e.j41(84,"span",135),e.EFF(85,"*"),e.k0s()(),e.j41(86,"select",191),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.barangay,n)||(o.createModel.barangay=n),e.Njj(n)}),e.j41(87,"option",145),e.EFF(88,"Select barangay"),e.k0s(),e.DNE(89,re,2,2,"option",57),e.k0s()(),e.j41(90,"div",156)(91,"label",192),e.EFF(92,"Contact Number"),e.k0s(),e.j41(93,"input",193),e.mxI("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.contactNumber,n)||(o.createModel.contactNumber=n),e.Njj(n)}),e.bIt("keydown",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.onContactKeyDown(n))})("paste",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.onContactPaste(n))})("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.sanitizeContact())}),e.k0s()(),e.j41(94,"div",159)(95,"label"),e.EFF(96,"Age (auto)"),e.k0s(),e.j41(97,"div",160),e.EFF(98),e.k0s()()(),e.j41(99,"div",161)(100,"button",168),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelCreate())}),e.EFF(101,"Cancel"),e.k0s(),e.j41(102,"button",163),e.EFF(103),e.k0s()()()()()}if(2&a){const t=e.XpG();e.R7$(14),e.R50("ngModel",t.createModel.firstName),e.R7$(4),e.R50("ngModel",t.createModel.middleName),e.R7$(6),e.R50("ngModel",t.createModel.lastName),e.R7$(7),e.R50("ngModel",t.createModel.birthday),e.R7$(6),e.R50("ngModel",t.createModel.gender),e.R7$(12),e.R50("ngModel",t.createModel.occupation),e.R7$(4),e.R50("ngModel",t.createModel.street),e.R7$(7),e.R50("ngModel",t.createModel.civilStatus),e.R7$(16),e.R50("ngModel",t.createModel.status),e.R7$(10),e.R50("ngModel",t.createModel.barangay),e.R7$(3),e.Y8G("ngForOf",t.barangayOptions),e.R7$(4),e.R50("ngModel",t.createModel.contactNumber),e.R7$(4),e.BMQ("aria-live",t.createModel.birthday?"polite":null),e.R7$(),e.SpI(" ",t.createModel.birthday?t.createModel.age:"\u2014"," "),e.R7$(4),e.AVh("modal__btn--disabled",t.disableCreateSave),e.Y8G("disabled",t.disableCreateSave),e.R7$(),e.JRh(t.saving?"Saving...":"Save Resident")}}const de=["Agay-ay","Basak","Bobon A","Bobon B","Dayanog","Garrido","Minoyho","Osao","Pong-oy","San Jose (Poblacion)","San Roque","San Vicente","Santa Cruz (Poblacion)","Santa Filomena","Santo Ni\xf1o (Poblacion)","Somoje","Sua","Timba"];let le=(()=>{class a{get totalPages(){return Math.max(1,Math.ceil(this.filtered.length/this.pageSize))}get pages(){return Array.from({length:this.totalPages},(t,i)=>i+1)}get residentsLimited(){const t=(this.currentPage-1)*this.pageSize;return this.filtered.slice(t,t+this.pageSize)}get hasActiveFilters(){return!!(this.filterName||this.filterBarangay||this.filterOccupation||this.filterCivilStatus||this.filterStatus||this.filterGender||null!=this.filterAgeMin||null!=this.filterAgeMax)}get activeFilterCount(){let t=0;return this.filterName&&t++,this.filterBarangay&&t++,this.filterOccupation&&t++,this.filterCivilStatus&&t++,this.filterStatus&&t++,this.filterGender&&t++,null!=this.filterAgeMin&&t++,null!=this.filterAgeMax&&t++,t}constructor(t,i,n){this.history=t,this.auth=i,this.toast=n,this.http=(0,e.WQX)(h.Qq),this.loading=!0,this.error=null,this.residents=[],this.filtered=[],this.showFilters=!1,this.filterName="",this.filterBarangay="",this.filterOccupation="",this.filterCivilStatus="",this.filterStatus="",this.filterGender="",this.uniqueBarangays=[],this.uniqueCivilStatuses=[],this.filterAgeMin=null,this.filterAgeMax=null,this.nameDebounce=null,this.pageSize=15,this.currentPage=1,this.selected=null,this.showModal=!1,this.editing=!1,this.editModel={},this.editSubmitted=!1,this.updating=!1,this.editChanged={},this.showNotice=!1,this.noticeDontShow=!1,this.pendingCreate=!1,this.showCreate=!1,this.saving=!1,this.createModel={firstName:"",middleName:"",lastName:"",age:void 0,gender:"",occupation:"",barangay:"",civilStatus:"",status:"Active",street:"",birthday:"",contactNumber:""},this.createPristine=null,this.changedFields={},this.barangayOptions=de.slice(),this.trackByResident=(d,r)=>r.id,this.trackByPage=(d,r)=>r;const o=localStorage.getItem("residentFilters");if(o)try{const d=JSON.parse(o);this.filterName=d.filterName??this.filterName,this.filterBarangay=d.filterBarangay??this.filterBarangay,this.filterOccupation=d.filterOccupation??this.filterOccupation,this.filterCivilStatus=d.filterCivilStatus??this.filterCivilStatus,this.filterStatus=d.filterStatus??this.filterStatus,this.filterGender=d.filterGender??this.filterGender,this.filterAgeMin=d.filterAgeMin??this.filterAgeMin,this.filterAgeMax=d.filterAgeMax??this.filterAgeMax}catch{}this.http.get("https://my-json-db-3.onrender.com/residents").subscribe({next:d=>{this.residents=d,this.uniqueBarangays=[...new Set(d.map(r=>r.barangay))].sort((r,_)=>r.localeCompare(_)),this.uniqueCivilStatuses=[...new Set(d.map(r=>r.civilStatus))].sort((r,_)=>r.localeCompare(_)),this.applyFilters(),this.loading=!1},error:d=>{console.error("Failed to load residents",d),this.error="Failed to load residents",this.loading=!1}}),localStorage.getItem("residentsNoticeDismissed")||setTimeout(()=>{this.showNotice=!0,document.body.style.overflow="hidden"},50)}open(t){this.selected=t,this.showModal=!0,document.body.style.overflow="hidden",this.editing=!1,this.editSubmitted=!1,this.updating=!1}close(){this.showModal=!1,setTimeout(()=>{this.selected=null},200),document.body.style.overflow="",this.editing=!1,this.editModel={},this.editSubmitted=!1}goTo(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}next(){this.currentPage<this.totalPages&&this.currentPage++}prev(){this.currentPage>1&&this.currentPage--}toggleFilters(){this.showFilters=!this.showFilters}dismissNotice(t=!0){if(this.showNotice=!1,t&&this.noticeDontShow?localStorage.setItem("residentsNoticeDismissed","true"):this.noticeDontShow||localStorage.removeItem("residentsNoticeDismissed"),this.pendingCreate)return this.pendingCreate=!1,void this.openCreateActual();!this.showModal&&!this.showCreate&&(document.body.style.overflow="")}cancelPendingCreate(){this.pendingCreate=!1,this.dismissNotice(!1)}reopenNotice(){this.showNotice=!0,document.body.style.overflow="hidden"}openCreate(){this.auth.isAdmin()&&(this.pendingCreate=!0,this.showNotice||(this.showNotice=!0,document.body.style.overflow="hidden"))}openCreateActual(){this.resetCreateModel(),this.showCreate=!0,document.body.style.overflow="hidden"}cancelCreate(){this.showCreate=!1,!this.showModal&&!this.showNotice&&(document.body.style.overflow="")}markChanged(t){this.changedFields[t]=!0}resetCreateModel(){this.createModel={firstName:"",middleName:"",lastName:"",age:void 0,gender:"",occupation:"",barangay:"",civilStatus:"",status:"Active",street:"",birthday:"",contactNumber:""},this.changedFields={},this.saving=!1,this.createPristine={...this.createModel}}saveResident(){if(this.saving||!this.createModel.firstName||!this.createModel.lastName||!this.createModel.birthday||null==this.createModel.age||!this.createModel.gender||""===this.createModel.barangay||!this.createModel.civilStatus||!this.createModel.status)return;const t={id:this.nextId(),firstName:this.createModel.firstName.trim(),middleName:(this.createModel.middleName||"").trim(),lastName:this.createModel.lastName.trim(),age:Number(this.createModel.age),gender:this.createModel.gender,occupation:(this.createModel.occupation||"").trim(),barangay:this.createModel.barangay.trim(),civilStatus:this.createModel.civilStatus,status:this.createModel.status,street:(this.createModel.street||"").trim()||void 0,birthday:this.createModel.birthday||void 0,contactNumber:this.createModel.contactNumber?this.createModel.contactNumber:void 0};this.saving=!0,this.http.post("https://my-json-db-3.onrender.com/residents",t).subscribe({next:i=>{this.residents.push(i),this.history.logChange({entity:"Resident",action:"add",summary:`Created resident #${i.id}`,extra:{name:i.firstName+" "+i.lastName}}),this.toast.success(`Resident ${i.firstName} ${i.lastName} added successfully.`),this.uniqueBarangays=[...new Set(this.residents.map(n=>n.barangay))].sort((n,o)=>n.localeCompare(o)),this.uniqueCivilStatuses=[...new Set(this.residents.map(n=>n.civilStatus))].sort((n,o)=>n.localeCompare(o)),this.applyFilters(),this.showCreate=!1,this.saving=!1,!this.showModal&&!this.showNotice&&(document.body.style.overflow="")},error:i=>{console.error("Failed to save resident",i),this.saving=!1}})}startEdit(){!this.isAdmin||!this.selected||(this.editing=!0,this.editModel={...this.selected},this.editSubmitted=!1,this.editChanged={})}cancelEditProfile(){this.editing=!1,this.editModel={},this.editSubmitted=!1,this.editChanged={}}submitEditProfile(){if(!(this.selected&&this.isAdmin&&(this.editSubmitted=!0,this.editModel.firstName&&this.editModel.lastName&&this.editModel.gender&&this.editModel.barangay&&this.editModel.civilStatus&&this.editModel.status)))return;if(this.editModel.birthday){const n=this.calculateAge(this.editModel.birthday);!isNaN(n)&&n>=0&&(this.editModel.age=n)}this.editModel.contactNumber&&(this.editModel.contactNumber=this.editModel.contactNumber.replace(/[^0-9]/g,"").slice(0,11));const t=this.selected.id,i={...this.selected,...this.editModel,id:t,age:this.editModel.age??this.selected.age};this.updating=!0,this.http.put(`https://my-json-db-3.onrender.com/residents/${t}`,i).subscribe({next:n=>{this.residents=this.residents.map(o=>o.id===t?n:o),this.selected=n,this.applyFilters(),this.toast.success(`Resident ${n.firstName} ${n.lastName} updated successfully.`),this.editing=!1,this.updating=!1,this.editModel={},this.editSubmitted=!1,this.editChanged={}},error:n=>{console.error("Failed to update resident",n),this.updating=!1}})}sanitizeEditContact(){null!=this.editModel.contactNumber&&(this.editModel.contactNumber=this.editModel.contactNumber.replace(/[^0-9]/g,"").slice(0,11))}sanitizeContact(){if(null!=this.createModel.contactNumber){const t=this.createModel.contactNumber.replace(/[^0-9]/g,"");this.createModel.contactNumber=t.slice(0,11)}}onContactKeyDown(t){["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Home","End"].includes(t.key)||/^[0-9]$/.test(t.key)||t.preventDefault()}onContactPaste(t,i=!1){const n=t.clipboardData?.getData("text")||"";if(/[^0-9]/.test(n)){t.preventDefault();const o=n.replace(/[^0-9]/g,"").slice(0,11);i?(this.editModel.contactNumber=(this.editModel.contactNumber||"")+o,this.sanitizeEditContact()):(this.createModel.contactNumber=(this.createModel.contactNumber||"")+o,this.sanitizeContact())}}onBirthdayChange(t){if(this.createModel.birthday=t,t){const i=this.calculateAge(t);!isNaN(i)&&i>=0&&(this.createModel.age=i)}}calculateAge(t){const i=t.split("-");if(3!==i.length)return NaN;const[n,o,c]=i.map(m=>parseInt(m,10));if(!n||!o||!c)return NaN;const d=new Date;let r=d.getFullYear()-n;const _=d.getMonth()+1-o,p=d.getDate()-c;return(_<0||0===_&&p<0)&&r--,r}nextId(){return this.residents.length?Math.max(...this.residents.map(t=>t.id))+1:1}resetFilters(){this.filterName="",this.filterBarangay="",this.filterOccupation="",this.filterCivilStatus="",this.filterStatus="",this.filterGender="",this.filterAgeMin=null,this.filterAgeMax=null,this.applyFilters()}onNameInput(t){this.filterName=t,this.nameDebounce&&clearTimeout(this.nameDebounce),this.nameDebounce=setTimeout(()=>{this.applyFilters()},300)}applyFilters(){const t=this.filterName.trim().toLowerCase(),i=this.filterBarangay.trim().toLowerCase(),n=this.filterOccupation.trim().toLowerCase(),o=this.filterCivilStatus.trim().toLowerCase(),c=this.filterStatus.trim().toLowerCase(),d=this.filterGender.trim().toLowerCase();this.filtered=this.residents.filter(r=>{const _=!t||(r.firstName+" "+r.middleName+" "+r.lastName).toLowerCase().includes(t)||r.firstName.toLowerCase().includes(t)||r.lastName.toLowerCase().includes(t),p=!i||r.barangay.toLowerCase().includes(i),m=!n||r.occupation.toLowerCase().includes(n),ce=!o||r.civilStatus.toLowerCase()===o,_e=!c||r.status.toLowerCase()===c,ge=!d||r.gender&&r.gender.toLowerCase()===d;return _&&p&&m&&ce&&_e&&ge&&(null==this.filterAgeMin||r.age>=this.filterAgeMin)&&(null==this.filterAgeMax||r.age<=this.filterAgeMax)}),this.currentPage=1,localStorage.setItem("residentFilters",JSON.stringify({filterName:this.filterName,filterBarangay:this.filterBarangay,filterOccupation:this.filterOccupation,filterCivilStatus:this.filterCivilStatus,filterStatus:this.filterStatus,filterGender:this.filterGender,filterAgeMin:this.filterAgeMin,filterAgeMax:this.filterAgeMax}))}isCreateValid(){const t=this.createModel,i=(t.firstName||"").trim(),n=(t.lastName||"").trim(),o=(t.birthday||"").trim(),c=(t.gender||"").trim(),d=(t.barangay||"").trim(),r=(t.civilStatus||"").trim(),_=(t.status||"").toString().trim(),p=/^\d{4}-\d{2}-\d{2}$/.test(o);return!!(i&&n&&p&&null!=t.age&&c&&d&&r&&_)}get isCreateDirty(){return!!this.createPristine&&["firstName","middleName","lastName","birthday","gender","occupation","street","civilStatus","status","barangay","contactNumber"].some(i=>this.createModel[i]!==this.createPristine[i])}get disableCreateSave(){return!this.isCreateValid()||!this.isCreateDirty||this.saving}exportResidents(){if(!this.isAdmin)return;const t=JSON.stringify(this.filtered,null,2),i=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(i),o=document.createElement("a");o.href=n,o.download="residents-export.json",o.click(),URL.revokeObjectURL(n),this.toast.success("Residents exported")}onImportFile(t){if(!this.isAdmin)return;const i=t.target;if(!i.files||!i.files.length)return;const n=i.files[0],o=new FileReader;o.onload=()=>{try{const c=JSON.parse(o.result);if(!Array.isArray(c))throw new Error("Invalid format");const d=[];c.forEach(r=>{if(r&&r.firstName&&r.lastName&&r.barangay){const _={id:this.nextId(),firstName:String(r.firstName),middleName:String(r.middleName||""),lastName:String(r.lastName),age:Number(r.age)||0,gender:String(r.gender||""),occupation:String(r.occupation||""),barangay:String(r.barangay),civilStatus:String(r.civilStatus||"Single"),status:"Deceased"===r.status?"Deceased":"Active",street:r.street?String(r.street):void 0,birthday:r.birthday?String(r.birthday):void 0,contactNumber:r.contactNumber?String(r.contactNumber):void 0};this.residents.push(_),d.push(_)}}),d.length?(this.applyFilters(),this.toast.success(`Imported ${d.length} resident${1===d.length?"":"s"}`)):this.toast.info("No valid residents found in file")}catch(c){console.error("Import failed",c),this.toast.error("Failed to import residents")}finally{i.value=""}},o.readAsText(n)}get isAdmin(){return this.auth.isAdmin()}get isEditDirty(){return!!this.selected&&["firstName","middleName","lastName","birthday","gender","occupation","street","civilStatus","status","barangay","contactNumber"].some(i=>this.editModel[i]!==this.selected[i])}markEditChanged(t){this.selected&&(this.editModel[t]!==this.selected[t]?this.editChanged[t]=!0:delete this.editChanged[t])}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(b.k),e.rXU(C.u),e.rXU(M.f))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-residents"]],standalone:!0,features:[e.aNF],decls:18,vars:9,consts:[["noResTpl",""],["plainNoticeFooter",""],["createForm","ngForm"],[1,"section-head"],["id","residents-heading",1,"welcome-head","animate-in"],["id","residents-intro",1,"intro-bar","residents__intro","animate-in-delayed"],[1,"intro-bar__text"],["aria-labelledby","residents-heading","aria-describedby","residents-intro",1,"residents"],["aria-live","polite",4,"ngIf"],["class","placeholder","role","alert",4,"ngIf"],[4,"ngIf"],["class","modal-backdrop","aria-hidden","true",4,"ngIf"],["class","modal modal--center notice-modal","role","dialog","aria-modal","true","aria-labelledby","residents-notice-title",4,"ngIf"],["class","modal-backdrop","aria-hidden","true",3,"click",4,"ngIf"],["class","modal modal--center","role","dialog","aria-modal","true",4,"ngIf"],["class","modal modal--center","role","dialog","aria-modal","true","aria-labelledby","create-resident-title",4,"ngIf"],["aria-live","polite"],["aria-hidden","true",1,"skeleton-res-table"],["class","skeleton-row--res",4,"ngFor","ngForOf"],[1,"visually-hidden"],[1,"skeleton-row--res"],[1,"skeleton-cell"],["role","alert",1,"placeholder"],["class","notice-reopen-wrap",4,"ngIf"],[1,"filters-bar","animate-in"],[1,"filters-bar__actions"],[1,"filters-bar__left"],["type","button",1,"filter-toggle",3,"click"],["aria-hidden","true",1,"btn-icon"],[1,"btn-label"],["class","filter-badge","aria-hidden","true",4,"ngIf"],["class","filters-bar__right",4,"ngIf"],["class","filters-panel","role","region","aria-label","Residents filters",4,"ngIf"],["role","region","aria-label","Residents table container",1,"table-wrap"],["aria-describedby","residents-intro",1,"res-table"],["scope","col"],[4,"ngIf","ngIfElse"],["class","table-actions",4,"ngIf"],[1,"notice-reopen-wrap"],["type","button","aria-label","Open important notice about resident data",1,"notice-reopen",3,"click"],["aria-hidden","true",1,"filter-badge"],[1,"filters-bar__right"],[1,"admin-actions","admin-actions--right"],["type","button","aria-label","Export residents",1,"icon-btn","export-btn",3,"click"],["aria-label","Import residents",1,"icon-btn","import-btn"],["type","file","accept","application/json,.json","hidden","",3,"change"],["type","button","aria-label","Add new resident",1,"add-btn",3,"click"],["role","region","aria-label","Residents filters",1,"filters-panel"],[1,"filters-form",3,"ngSubmit"],[1,"filter-field"],["for","fName"],[1,"input-wrap"],["id","fName","type","text","name","filterName","placeholder","Search name",3,"ngModelChange","input","ngModel"],["type","button","class","clear-btn","aria-label","Clear name filter",3,"click",4,"ngIf"],["for","fBrgy"],["id","fBrgy","name","filterBarangay",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button","class","clear-btn","aria-label","Clear barangay filter",3,"click",4,"ngIf"],["for","fOcc"],["id","fOcc","type","text","name","filterOccupation","placeholder","e.g. Farmer",3,"ngModelChange","input","ngModel"],["type","button","class","clear-btn","aria-label","Clear occupation filter",3,"click",4,"ngIf"],["for","fCivil"],["id","fCivil","name","filterCivilStatus",3,"ngModelChange","change","ngModel"],["type","button","class","clear-btn","aria-label","Clear civil status filter",3,"click",4,"ngIf"],["for","fStatus"],["id","fStatus","name","filterStatus",3,"ngModelChange","change","ngModel"],["value","Active"],["value","Deceased"],["type","button","class","clear-btn","aria-label","Clear record status filter",3,"click",4,"ngIf"],["for","fGender"],["id","fGender","name","filterGender",3,"ngModelChange","change","ngModel"],["value","Male"],["value","Female"],["value","Other"],["type","button","class","clear-btn","aria-label","Clear gender filter",3,"click",4,"ngIf"],[1,"age-range"],["type","number","min","0","name","filterAgeMin","placeholder","Min",3,"ngModelChange","input","ngModel"],[1,"age-range__sep"],["type","number","min","0","name","filterAgeMax","placeholder","Max",3,"ngModelChange","input","ngModel"],[1,"filter-actions"],["type","button",1,"filter-reset",3,"click"],["aria-live","polite",1,"results-count"],["type","button","aria-label","Clear name filter",1,"clear-btn",3,"click"],[3,"value"],["type","button","aria-label","Clear barangay filter",1,"clear-btn",3,"click"],["type","button","aria-label","Clear occupation filter",1,"clear-btn",3,"click"],["type","button","aria-label","Clear civil status filter",1,"clear-btn",3,"click"],["type","button","aria-label","Clear record status filter",1,"clear-btn",3,"click"],["type","button","aria-label","Clear gender filter",1,"clear-btn",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"status-chip"],["type","button",1,"view-btn",3,"click"],["role","status","aria-live","polite",1,"no-results-row"],["colspan","10"],[1,"no-results__box","in-table"],["aria-hidden","true",1,"no-results__icon"],[1,"no-results__title"],[1,"no-results__text"],["type","button","class","no-results__reset",3,"click",4,"ngIf"],["type","button",1,"no-results__reset",3,"click"],[1,"table-actions"],["type","button","aria-label","Previous page",1,"page-btn","nav",3,"click","disabled"],["type","button","aria-label","Next page",1,"page-btn","nav",3,"click","disabled"],["type","button",1,"page-btn",3,"click"],["aria-hidden","true",1,"modal-backdrop"],["role","dialog","aria-modal","true","aria-labelledby","residents-notice-title",1,"modal","modal--center","notice-modal"],[1,"modal__inner","notice-modal__inner"],["aria-hidden","true",1,"notice-strip"],["id","residents-notice-title",1,"modal__title","notice-modal__title"],["aria-hidden","true",1,"notice-icon"],[1,"modal__body","notice-modal__body"],[1,"notice-points"],[1,"notice-checkbox"],["type","checkbox",3,"ngModelChange","ngModel"],["class","notice-small",4,"ngIf"],[1,"notice-small"],["id","notice-hint-text",1,"notice-hint"],["aria-describedby","notice-hint-text",1,"modal__footer","notice-modal__footer","with-cancel"],["type","button",1,"notice-cancel",3,"click"],["type","button",1,"modal__btn","modal__btn--primary",3,"click"],[1,"modal__footer","notice-modal__footer","single-action"],["aria-hidden","true",1,"modal-backdrop",3,"click"],["role","dialog","aria-modal","true",1,"modal","modal--center"],[1,"modal__inner"],[1,"modal__section-title",3,"id"],["aria-hidden","true",1,"modal__icon"],["class","modal__title",4,"ngIf"],["class","create-form","novalidate","",3,"form--dirty","ngSubmit",4,"ngIf"],["class","modal__body",4,"ngIf"],["class","modal__footer",4,"ngIf"],[1,"modal__title"],["novalidate","",1,"create-form",3,"ngSubmit"],[1,"form__row","form__row--inline"],["for","edFirst"],["aria-hidden","true",1,"req"],["id","edFirst","name","edFirst","type","text","required","",3,"ngModelChange","ngModel"],["for","edMiddle"],["id","edMiddle","name","edMiddle","type","text",3,"ngModelChange","ngModel"],["for","edLast"],["id","edLast","name","edLast","type","text","required","",3,"ngModelChange","ngModel"],["for","edBirthday"],["id","edBirthday","name","edBirthday","type","date",3,"ngModelChange","ngModel"],["for","edGender"],["id","edGender","name","edGender","required","",3,"ngModelChange","ngModel"],["value","","disabled",""],["for","edOcc"],["id","edOcc","name","edOcc","type","text",3,"ngModelChange","ngModel"],["for","edStreet"],["id","edStreet","name","edStreet","type","text","placeholder","Street / Sitio",3,"ngModelChange","ngModel"],["for","edCivil"],["id","edCivil","name","edCivil","required","",3,"ngModelChange","ngModel"],["for","edStatus"],["id","edStatus","name","edStatus","required","",3,"ngModelChange","ngModel"],["for","edBarangay"],["id","edBarangay","name","edBarangay","required","",3,"ngModelChange","ngModel"],[1,"contact-field"],["for","edContact"],["id","edContact","name","edContact","type","text","inputmode","numeric","pattern","[0-9]*","maxlength","11","placeholder","09XXXXXXXXX",3,"ngModelChange","keydown","paste","input","ngModel"],[1,"age-field"],[1,"computed-age"],[1,"modal__footer"],["type","button",1,"modal__btn","modal__btn--secondary",3,"click","disabled"],["type","submit",1,"modal__btn","modal__btn--primary",3,"disabled"],["class","form__legend",4,"ngIf"],[1,"form__legend"],[1,"modal__body"],["type","button","class","modal__btn modal__btn--primary",3,"click",4,"ngIf"],["type","button",1,"modal__btn","modal__btn--secondary",3,"click"],["role","dialog","aria-modal","true","aria-labelledby","create-resident-title",1,"modal","modal--center"],["id","create-resident-title",1,"modal__section-title"],[1,"create-form",3,"ngSubmit"],["for","crFirst"],["id","crFirst","name","crFirst","type","text","required","",3,"ngModelChange","ngModel"],["for","crMiddle"],["id","crMiddle","name","crMiddle","type","text",3,"ngModelChange","ngModel"],["for","crLast"],["id","crLast","name","crLast","type","text","required","",3,"ngModelChange","ngModel"],["for","crBirthday"],["id","crBirthday","name","crBirthday","type","date","required","",3,"ngModelChange","ngModel"],["for","crGender"],["id","crGender","name","crGender","required","",3,"ngModelChange","ngModel"],["for","crOcc"],["id","crOcc","name","crOcc","type","text",3,"ngModelChange","ngModel"],["for","crStreet"],["id","crStreet","name","crStreet","type","text","placeholder","Street / Sitio",3,"ngModelChange","ngModel"],["for","crCivil"],["id","crCivil","name","crCivil","required","",3,"ngModelChange","ngModel"],["for","crStatus"],["id","crStatus","name","crStatus","required","",3,"ngModelChange","ngModel"],["for","crBarangay"],["id","crBarangay","name","crBarangay","required","",3,"ngModelChange","ngModel"],["for","crContact"],["id","crContact","name","crContact","type","text","inputmode","numeric","pattern","[0-9]*","maxlength","11","placeholder","09XXXXXXXXX",3,"ngModelChange","keydown","paste","input","ngModel"]],template:function(i,n){1&i&&(e.j41(0,"div",3)(1,"h2",4),e.EFF(2,"Municipal "),e.j41(3,"em"),e.EFF(4,"Residents"),e.k0s()()(),e.j41(5,"div",5)(6,"p",6),e.EFF(7,"Manage citizen records, household profiles, and demographic insights for effective community services."),e.k0s()(),e.j41(8,"section",7),e.DNE(9,v,5,2,"div",8)(10,j,2,1,"div",9)(11,Y,44,11,"div",10),e.k0s(),e.DNE(12,z,1,0,"div",11)(13,U,27,5,"div",12)(14,K,1,0,"div",13)(15,oe,10,6,"div",14)(16,ae,1,0,"div",11)(17,se,104,18,"div",15)),2&i&&(e.R7$(9),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("ngIf",n.error&&!n.loading),e.R7$(),e.Y8G("ngIf",!n.loading&&!n.error),e.R7$(),e.Y8G("ngIf",n.showNotice),e.R7$(),e.Y8G("ngIf",n.showNotice),e.R7$(),e.Y8G("ngIf",n.showModal),e.R7$(),e.Y8G("ngIf",n.showModal&&n.selected),e.R7$(),e.Y8G("ngIf",n.showCreate),e.R7$(),e.Y8G("ngIf",n.showCreate))},dependencies:[f.bT,f.pM,l.YN,l.qT,l.xH,l.y7,l.me,l.Q0,l.Zm,l.wz,l.BC,l.cb,l.YS,l.tU,l.R_,l.VZ,l.vS,l.cV],styles:['.admin-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}.admin-actions[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%], .admin-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;font-size:.68rem;letter-spacing:1.15px;font-weight:700;padding:.55rem .9rem .6rem;height:2.15rem;border:1px solid #0d9488;background:var(--grad-green);border-radius:8px;cursor:pointer;text-transform:uppercase;box-shadow:0 4px 12px -5px #10b98173,0 2px 5px -2px #00000040;color:#064e3b}.admin-actions[_ngcontent-%COMP%]   .icon-btn.export-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2563eb,#1d4ed8);border-color:#1d4ed8;color:#fff;box-shadow:0 4px 12px -5px #2563eb73,0 2px 5px -2px #00000040}.admin-actions[_ngcontent-%COMP%]   .icon-btn.import-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#d97706);border-color:#d97706;color:#fff;text-shadow:0 1px 1px rgba(0,0,0,.28);box-shadow:0 4px 12px -5px #f59e0b80,0 2px 5px -2px #00000040}.admin-actions[_ngcontent-%COMP%]   .icon-btn.export-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#1d4ed8,#1e40af);color:#f1f5f9;box-shadow:0 6px 18px -6px #1d4ed88c,0 3px 8px -3px #00000047}.admin-actions[_ngcontent-%COMP%]   .icon-btn.import-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#fbbf24,#f59e0b);color:#fff;text-shadow:0 1px 1px rgba(0,0,0,.35);box-shadow:0 6px 18px -6px #fbbf248c,0 3px 8px -3px #00000047}.admin-actions[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover, .admin-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{background:var(--grad-green-hover);color:#022c22;box-shadow:0 6px 18px -6px #10b9818c,0 3px 8px -3px #00000047;transform:translateY(-2px)}.admin-actions[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover, .admin-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{background:var(--btn-bg-hover,#f5f5f5)}.admin-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1rem;line-height:1;display:inline-flex;align-items:center}.admin-actions[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{white-space:nowrap}.admin-actions[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%], .admin-actions[_ngcontent-%COMP%]   .import-btn[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{text-transform:none}@media (max-width: 640px){.admin-actions[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{display:none}.admin-actions[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%], .admin-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{padding:.55rem .6rem .6rem;height:auto}}.residents[_ngcontent-%COMP%]{max-width:1280px;margin:40px auto 48px;padding:0 0 1.5rem;font-family:system-ui,Arial,sans-serif}.residents__intro[_ngcontent-%COMP%]{margin:0 0 1.15rem;font-size:clamp(.8rem,.45vw + .7rem,1rem);line-height:1.5;color:#475569;letter-spacing:.38px;max-width:840px;padding-left:1rem;position:relative}.residents__intro[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:.55rem;width:5px;height:calc(100% - .9rem);background:linear-gradient(180deg,#2563eb,#4f46e5 65%,#7c3aed);border-radius:3px;opacity:.15}.placeholder[_ngcontent-%COMP%]{margin:0;padding:1.25rem 1rem;background:#f1f5f9;border:1px dashed #94a3b8;border-radius:12px;font-size:.8rem;color:#334155;line-height:1.45}.table-wrap[_ngcontent-%COMP%]{background:#fff;border:1px solid #d8e0e5;border-radius:10px;box-shadow:0 2px 6px #0000000d;overflow:auto}.res-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;font-size:.9rem;min-width:960px}.res-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background:linear-gradient(90deg,#2563eb,#4f46e5);color:#fff;text-align:left;padding:.6rem .8rem;font-weight:700;letter-spacing:.5px;font-size:.8rem}.res-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .res-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:38px;text-align:right;font-variant-numeric:tabular-nums}.res-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.6rem .8rem;border-top:1px solid #e2e8f0;background:#fff}.res-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{background:#f8fafc}.res-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#eef6ff}.view-btn[_ngcontent-%COMP%]{font-size:.65rem;padding:.4rem .6rem;background:#2563eb;border:1px solid #1d4ed8;color:#fff;border-radius:4px;cursor:pointer;letter-spacing:.45px}.view-btn[_ngcontent-%COMP%]:hover{background:#1d4ed8}.status-chip[_ngcontent-%COMP%]{display:inline-block;font-size:.6rem;padding:.3rem .55rem;background:#dcfce7;color:#166534;border:1px solid #16a34a;border-radius:12px;letter-spacing:.45px}.status-chip--deceased[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b;border-color:#dc2626}.field-changed[_ngcontent-%COMP%]{border-color:#fb923c!important;box-shadow:0 0 0 1px #fb923c inset,0 1px #fff9 inset;background:linear-gradient(0deg,#fb923c2e,#fb923c2e),#fff}.field-changed[_ngcontent-%COMP%]:focus{outline-color:#ea580c;border-color:#ea580c}.form__legend[_ngcontent-%COMP%]{margin:.4rem 0 0;font-size:.55rem;letter-spacing:.6px;color:#92400e;font-weight:600;text-transform:uppercase}@media (max-width:640px){.notice-modal[_ngcontent-%COMP%]{align-items:center!important;padding:4vh 1rem!important}.notice-modal__inner[_ngcontent-%COMP%]{max-height:84vh}}.notice-modal__inner[_ngcontent-%COMP%]{max-width:560px}.notice-modal__title[_ngcontent-%COMP%]{font-size:1.05rem;display:flex;align-items:center;gap:.4rem}.notice-modal__body[_ngcontent-%COMP%]{font-size:.68rem;letter-spacing:.4px}.notice-points[_ngcontent-%COMP%]{margin:.6rem 0 1rem 1.05rem;padding:0;list-style:disc}.notice-points[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 0 .35rem}.notice-small[_ngcontent-%COMP%]{font-size:.55rem;color:#64748b;margin:.3rem 0 0}.notice-modal__footer[_ngcontent-%COMP%]   .modal__btn[_ngcontent-%COMP%]{font-size:.62rem}.notice-modal__footer.single-action[_ngcontent-%COMP%]{justify-content:center}.notice-hint[_ngcontent-%COMP%]{font-size:.58rem;letter-spacing:.6px;color:#475569;margin:.35rem 0 .2rem;background:#f8fafc;padding:.55rem .7rem;border:1px solid #e2e8f0;border-radius:8px;line-height:1.45}.notice-modal__footer.with-cancel[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.notice-cancel[_ngcontent-%COMP%]{background:none;border:none;color:#1d4ed8;font-size:.62rem;letter-spacing:.7px;font-weight:600;cursor:pointer;padding:.4rem .25rem;border-radius:6px;text-decoration:underline}.notice-cancel[_ngcontent-%COMP%]:hover{color:#4338ca;background:#f1f5f9}.notice-cancel[_ngcontent-%COMP%]:focus-visible{outline:2px solid #6366f1;outline-offset:2px}.form__row--inline[_ngcontent-%COMP%]{flex-direction:row;gap:1rem;flex-wrap:wrap}.form__row--inline[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 220px;min-width:220px;display:flex;flex-direction:column;gap:.4rem}@media (max-width:1000px){.form__row--inline[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 260px;min-width:260px}}@media (max-width:840px){.form__row--inline[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 300px;min-width:300px}}@media (max-width:640px){.form__row--inline[_ngcontent-%COMP%]{flex-direction:row;gap:.85rem .9rem}.form__row--inline[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 calc(50% - .9rem);min-width:calc(50% - .9rem)}}@media (max-width:420px){.form__row--inline[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%}}.create-form[_ngcontent-%COMP%]   input[required].ng-invalid.ng-touched[_ngcontent-%COMP%], .create-form[_ngcontent-%COMP%]   select[required].ng-invalid.ng-touched[_ngcontent-%COMP%], .create-form.ng-submitted[_ngcontent-%COMP%]   input[required].ng-invalid[_ngcontent-%COMP%], .create-form.ng-submitted[_ngcontent-%COMP%]   select[required].ng-invalid[_ngcontent-%COMP%]{border-color:#dc2626;background:linear-gradient(0deg,#fca5a540,#fca5a540),#fff;box-shadow:0 0 0 1px #dc2626 inset,0 1px #fff6 inset}.create-form[_ngcontent-%COMP%]   input[required].ng-invalid.ng-touched[_ngcontent-%COMP%]:focus, .create-form[_ngcontent-%COMP%]   select[required].ng-invalid.ng-touched[_ngcontent-%COMP%]:focus, .create-form.ng-submitted[_ngcontent-%COMP%]   input[required].ng-invalid[_ngcontent-%COMP%]:focus, .create-form.ng-submitted[_ngcontent-%COMP%]   select[required].ng-invalid[_ngcontent-%COMP%]:focus{outline-color:#dc2626;border-color:#dc2626}.notice-strip[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:6px;width:100%;background:linear-gradient(90deg,#f59e0b,#f97316,#dc2626 70%);border-top-left-radius:14px;border-top-right-radius:14px}.notice-icon[_ngcontent-%COMP%]{font-size:1.1rem}.notice-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.6rem;margin:.2rem 0 .4rem;cursor:pointer}.notice-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{transform:scale(1.1)}.notice-reopen-wrap[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:0 0 .4rem}.notice-reopen[_ngcontent-%COMP%]{background:transparent;border:none;color:#334155;font-size:.8rem;padding:0;border-radius:0;cursor:pointer;letter-spacing:.5px;display:inline-flex;align-items:center;line-height:1;box-shadow:none}.notice-reopen[_ngcontent-%COMP%]:hover{background:transparent;color:#1e3a8a}.notice-reopen[_ngcontent-%COMP%]:focus-visible{outline:2px solid #6366f1;outline-offset:2px;border-radius:4px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.table-actions[_ngcontent-%COMP%]{margin:.6rem 0 0;display:flex;justify-content:flex-end}.toggle-btn[_ngcontent-%COMP%]{font-size:.6rem;padding:.45rem .8rem;background:#1e3a8a;color:#fff;border:1px solid #1e3a8a;border-radius:6px;cursor:pointer;letter-spacing:.45px;box-shadow:0 1px 2px #0000001f}.toggle-btn[_ngcontent-%COMP%]:hover{background:#1d4ed8}.page-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #cbd5e1;color:#334155;padding:.45rem .65rem;font-size:.6rem;margin:0 .18rem;border-radius:6px;cursor:pointer;min-width:2.1rem;letter-spacing:.45px;box-shadow:0 1px 1px #0000000d}.page-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.page-btn--active[_ngcontent-%COMP%]{background:#2563eb;border-color:#1d4ed8;color:#fff;box-shadow:0 0 0 1px #1d4ed8 inset}.page-btn.nav[_ngcontent-%COMP%]{font-weight:600}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.45;cursor:not-allowed}.filters-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem;margin:0 0 .85rem;padding:0 .15rem}.filters-bar__actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap;justify-content:space-between;width:100%}.filters-bar__left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem}.filters-bar__right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;margin-left:auto}.filters-bar__actions[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]{order:1}.filters-bar__actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{order:2}.btn-icon[_ngcontent-%COMP%], .btn-label[_ngcontent-%COMP%]{display:inline-block}@media (max-width:600px){.filters-bar__actions[_ngcontent-%COMP%]{gap:.45rem}.filter-toggle[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{padding:.5rem .55rem .55rem;font-size:.65rem}.filter-toggle[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.filter-toggle[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1rem;line-height:1}.filter-toggle[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px}}.filter-toggle[_ngcontent-%COMP%]{align-self:flex-start;background:#f1f5f9;border:1px solid #cbd5e1;color:#1e293b;padding:.5rem .9rem;font-size:.7rem;font-weight:600;border-radius:8px;cursor:pointer;letter-spacing:.48px;display:inline-flex;align-items:center;gap:.4rem;box-shadow:0 1px 2px #00000014}.filter-toggle[_ngcontent-%COMP%]:hover{background:#e2e8f0}.filter-toggle--active[_ngcontent-%COMP%]{background:#fed7d7;color:#7f1d1d;border-color:#fca5a5;box-shadow:0 0 0 1px #fca5a5 inset,0 2px 6px #0000001f;position:relative;font-weight:700}.filter-toggle--active[_ngcontent-%COMP%]:hover{background:#fecaca}.filter-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;padding:0 6px;background:#fff;color:#7f1d1d;font-size:.55rem;font-weight:600;border-radius:14px;border:1px solid #fca5a5;box-shadow:0 1px 2px #0000002e;letter-spacing:.4px}.no-results-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2.2rem 1rem 2.4rem;background:transparent;text-align:center}.no-results__box[_ngcontent-%COMP%]{text-align:center;background:transparent;border:none;border-radius:0;padding:0;max-width:420px;width:100%;margin:0 auto;box-shadow:none;animation:_ngcontent-%COMP%_noResFade .45s cubic-bezier(.33,.85,.42,.99) both;transform-origin:50% 45%}.no-results__box.in-table[_ngcontent-%COMP%]{background:transparent}@keyframes _ngcontent-%COMP%_noResFade{0%{opacity:0;transform:scale(.92) translateY(4px)}60%{opacity:1}to{opacity:1;transform:scale(1) translateY(0)}}.no-results__icon[_ngcontent-%COMP%]{font-size:2rem;line-height:1;margin:0 0 .6rem;filter:grayscale(.1)}.no-results__title[_ngcontent-%COMP%]{margin:.1rem 0 .55rem;font-size:.95rem;font-weight:600;letter-spacing:.6px;color:#1e2766}.no-results__text[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:.65rem;line-height:1.5;color:#475569;letter-spacing:.4px}.no-results__reset[_ngcontent-%COMP%]{font-size:.6rem;padding:.5rem .85rem;background:#fee2e2;border:1px solid #fca5a5;border-radius:8px;color:#7f1d1d;cursor:pointer;letter-spacing:.5px;font-weight:600;box-shadow:0 1px 2px #00000014}.no-results__reset[_ngcontent-%COMP%]:hover{background:#fecaca}.filters-panel[_ngcontent-%COMP%]{background:#fff;border:1px solid #d8e0e5;border-radius:10px;padding:.8rem .95rem .9rem;box-shadow:0 3px 8px -2px #00000017}.filters-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.9rem 1.15rem;align-items:flex-end}.filter-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;min-width:150px}.filter-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.66rem;font-weight:600;letter-spacing:.6px;text-transform:uppercase;color:#334155}.filter-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filter-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .6rem;border:1px solid #cbd5e1;border-radius:6px;background:#fff;color:#1e293b;letter-spacing:.4px}.input-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-right:1.6rem}.filter-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filter-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:2px solid #2563eb;outline-offset:1px}.filter-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.filter-reset[_ngcontent-%COMP%]{background:#fee2e2;border:1px solid #fca5a5;color:#991b1b;font-size:.65rem;padding:.48rem .8rem;border-radius:6px;cursor:pointer;letter-spacing:.5px}.filter-reset[_ngcontent-%COMP%]:hover{background:#fecaca}.results-count[_ngcontent-%COMP%]{font-size:.65rem;font-weight:600;color:#1e2766;letter-spacing:.55px}.age-range[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem}.age-range[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:72px}.age-range__sep[_ngcontent-%COMP%]{font-size:.7rem;color:#64748b}.input-wrap[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.clear-btn[_ngcontent-%COMP%]{position:absolute;right:6px;top:50%;transform:translateY(-50%);background:#e2e8f0;border:1px solid #cbd5e1;width:20px;height:20px;padding:0;line-height:1;font-size:.7rem;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#334155}.clear-btn[_ngcontent-%COMP%]:hover{background:#cbd5e1}@media (max-width:640px){.age-field[_ngcontent-%COMP%]{flex:1 1 100%!important;min-width:100%!important;max-width:100%!important}}.profile-sep[_ngcontent-%COMP%]{border:0;border-top:1px solid #e2e8f0;margin:1rem 0 .9rem}.profile-extra-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.55rem .9rem;font-size:.78rem}.profile-extra-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.birthday-field[_ngcontent-%COMP%]{flex:0 1 160px!important;min-width:160px!important;max-width:190px}.birthday-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.age-field[_ngcontent-%COMP%]{flex:0 1 80px!important;min-width:110px!important;max-width:140px}.age-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.computed-age[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;padding:.55rem .65rem;background:#f1f5f9;border:1px dashed #cbd5e1;border-radius:7px;min-height:42px;display:flex;align-items:center;justify-content:flex-start}@media (max-width:640px){.age-field[_ngcontent-%COMP%]{max-width:100%!important}}.contact-field[_ngcontent-%COMP%]{flex:0 1 200px!important;min-width:170px!important;max-width:220px}.contact-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}@media (max-width:640px){.contact-field[_ngcontent-%COMP%]{flex:1 1 100%!important;min-width:100%!important}}']})}}return a})()}}]);