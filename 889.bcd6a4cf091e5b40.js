"use strict";(self.webpackChunkmunicipal_management=self.webpackChunkmunicipal_management||[]).push([[889],{5889:($,d,c)=>{c.r(d),c.d(d,{FacilitiesComponent:()=>Y});var e=c(4438),r=c(177),s=c(4341),_=c(1626),p=c(2408),f=c(671);const m=()=>[1,2,3,4];function g(n,l){1&n&&(e.j41(0,"div",16),e.nrm(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20),e.k0s())}function u(n,l){1&n&&(e.j41(0,"div",12)(1,"div",13),e.DNE(2,g,5,0,"div",14),e.k0s(),e.j41(3,"p",15),e.EFF(4,"Loading facilities..."),e.k0s()()),2&n&&(e.R7$(2),e.Y8G("ngForOf",e.lJ4(1,m)))}function h(n,l){if(1&n&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.error)}}function M(n,l){if(1&n){const t=e.RV6();e.j41(0,"article",25)(1,"button",26),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.openCreateModal())}),e.j41(2,"span",27),e.EFF(3,"\u2795"),e.k0s(),e.j41(4,"span",28),e.EFF(5,"Add Facility"),e.k0s()()()}}function b(n,l){if(1&n&&(e.j41(0,"span",38),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.SpI("Capacity: ",t.capacity,"")}}function F(n,l){if(1&n&&(e.j41(0,"p",39),e.EFF(1,"\u{1f552} "),e.j41(2,"span",40),e.EFF(3,"Hours:"),e.k0s(),e.j41(4,"span",41),e.EFF(5),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(5),e.JRh(t.hours)}}function y(n,l){if(1&n&&(e.j41(0,"p",42),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.notes)}}function x(n,l){if(1&n){const t=e.RV6();e.j41(0,"article",29)(1,"h3",30),e.EFF(2),e.k0s(),e.j41(3,"p",31),e.EFF(4),e.k0s(),e.j41(5,"p",32)(6,"span",33),e.EFF(7),e.k0s(),e.DNE(8,b,2,1,"span",34),e.k0s(),e.DNE(9,F,6,1,"p",35)(10,y,2,1,"p",36),e.j41(11,"button",37),e.bIt("click",function(){const i=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.openViewModal(i))}),e.EFF(12,"View Details"),e.k0s()()}if(2&n){const t=l.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.Lme("",t.type," \u2022 ",t.location,""),e.R7$(),e.AVh("facility-card__status--maint","Under Maintenance"===t.status)("facility-card__status--planned","Planned"===t.status)("facility-card__status--oper","Operational"===t.status),e.R7$(2),e.JRh(t.status),e.R7$(),e.Y8G("ngIf",t.capacity),e.R7$(),e.Y8G("ngIf",t.hours),e.R7$(),e.Y8G("ngIf",t.notes),e.R7$(),e.BMQ("aria-label","View details for "+t.name)}}function C(n,l){if(1&n&&(e.j41(0,"div",22),e.DNE(1,M,6,0,"article",23)(2,x,13,14,"article",24),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isAdmin),e.R7$(),e.Y8G("ngForOf",t.facilities)("ngForTrackBy",t.trackByFacility)}}function k(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",43),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeViewModal())}),e.k0s()}}function j(n,l){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(),e.SpI("\u2022 Capacity: ",t.capacity,"")}}function v(n,l){1&n&&e.nrm(0,"br")}function E(n,l){if(1&n&&(e.j41(0,"span")(1,"strong"),e.EFF(2,"Operating Hours:"),e.k0s(),e.EFF(3),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(3),e.SpI(" ",t.hours,"")}}function w(n,l){1&n&&e.nrm(0,"br")}function R(n,l){if(1&n&&(e.j41(0,"span")(1,"strong"),e.EFF(2,"Description:"),e.k0s(),e.EFF(3),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(3),e.SpI(" ",t.notes,"")}}function I(n,l){if(1&n){const t=e.RV6();e.j41(0,"button",57),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.startEdit())}),e.EFF(1,"Edit"),e.k0s()}}function O(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",49)(1,"h3",50),e.EFF(2),e.k0s(),e.j41(3,"p",51),e.EFF(4),e.DNE(5,j,2,1,"span",52),e.k0s(),e.j41(6,"p",53)(7,"strong"),e.EFF(8,"Status:"),e.k0s(),e.EFF(9),e.DNE(10,v,1,0,"br",52)(11,E,4,1,"span",52)(12,w,1,0,"br",52)(13,R,4,1,"span",52),e.k0s(),e.j41(14,"div",54),e.DNE(15,I,2,0,"button",55),e.j41(16,"button",56),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.closeViewModal())}),e.EFF(17,"Close"),e.k0s()()()}if(2&n){const t=e.XpG().ngIf,a=e.XpG();e.R7$(),e.Y8G("id","facility-modal-title-"+t.id),e.R7$(),e.JRh(t.name),e.R7$(2),e.Lme("",t.type," \u2022 ",t.location," "),e.R7$(),e.Y8G("ngIf",t.capacity),e.R7$(4),e.SpI(" ",t.status,""),e.R7$(),e.Y8G("ngIf",t.hours),e.R7$(),e.Y8G("ngIf",t.hours),e.R7$(),e.Y8G("ngIf",t.notes),e.R7$(),e.Y8G("ngIf",t.notes),e.R7$(2),e.Y8G("ngIf",a.isAdmin)}}function P(n,l){1&n&&(e.j41(0,"p",81),e.EFF(1,"Name is required."),e.k0s())}function G(n,l){1&n&&(e.j41(0,"p",81),e.EFF(1,"Status is required."),e.k0s())}function T(n,l){1&n&&(e.j41(0,"p",82),e.EFF(1,"Highlighted fields have unsaved changes."),e.k0s())}function D(n,l){if(1&n){const t=e.RV6();e.j41(0,"form",58),e.bIt("ngSubmit",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.saveEdit())}),e.j41(1,"div",59)(2,"label",60),e.EFF(3,"Name "),e.j41(4,"span",61),e.EFF(5,"*"),e.k0s()(),e.j41(6,"input",62),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.name,i)||(o.editModel.name=i),e.Njj(i)}),e.k0s(),e.DNE(7,P,2,0,"p",63),e.k0s(),e.j41(8,"div",64)(9,"div")(10,"label",65),e.EFF(11,"Type "),e.j41(12,"span",61),e.EFF(13,"*"),e.k0s()(),e.j41(14,"input",66),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.type,i)||(o.editModel.type=i),e.Njj(i)}),e.k0s()(),e.j41(15,"div")(16,"label",67),e.EFF(17,"Location "),e.j41(18,"span",61),e.EFF(19,"*"),e.k0s()(),e.j41(20,"input",68),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.location,i)||(o.editModel.location=i),e.Njj(i)}),e.k0s()()(),e.j41(21,"div",64)(22,"div")(23,"label",69),e.EFF(24,"Status "),e.j41(25,"span",61),e.EFF(26,"*"),e.k0s()(),e.j41(27,"input",70),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.status,i)||(o.editModel.status=i),e.Njj(i)}),e.k0s(),e.DNE(28,G,2,0,"p",63),e.k0s(),e.j41(29,"div")(30,"label",71),e.EFF(31,"Capacity"),e.k0s(),e.j41(32,"input",72),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.capacity,i)||(o.editModel.capacity=i),e.Njj(i)}),e.k0s()()(),e.j41(33,"div",59)(34,"label",73),e.EFF(35,"Operating Hours"),e.k0s(),e.j41(36,"input",74),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.hours,i)||(o.editModel.hours=i),e.Njj(i)}),e.k0s()(),e.j41(37,"div",59)(38,"label",75),e.EFF(39,"Description"),e.k0s(),e.j41(40,"textarea",76),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG(2);return e.DH7(o.editModel.notes,i)||(o.editModel.notes=i),e.Njj(i)}),e.k0s()(),e.DNE(41,T,2,0,"p",77),e.j41(42,"div",78)(43,"button",79),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.cancelEdit())}),e.EFF(44,"Cancel"),e.k0s(),e.j41(45,"button",80),e.EFF(46,"Save Changes"),e.k0s()()()}if(2&n){const t=e.XpG(2);e.R7$(6),e.AVh("changed",t.selected&&t.editModel.name!==t.selected.name),e.R50("ngModel",t.editModel.name),e.R7$(),e.Y8G("ngIf",t.editSubmitted&&!t.editModel.name),e.R7$(7),e.AVh("changed",t.selected&&t.editModel.type!==t.selected.type),e.R50("ngModel",t.editModel.type),e.R7$(6),e.AVh("changed",t.selected&&t.editModel.location!==t.selected.location),e.R50("ngModel",t.editModel.location),e.R7$(7),e.AVh("changed",t.selected&&t.editModel.status!==t.selected.status),e.R50("ngModel",t.editModel.status),e.R7$(),e.Y8G("ngIf",t.editSubmitted&&!t.editModel.status),e.R7$(4),e.AVh("changed",t.selected&&t.editModel.capacity!==t.selected.capacity),e.R50("ngModel",t.editModel.capacity),e.R7$(4),e.AVh("changed",t.selected&&t.editModel.hours!==t.selected.hours),e.R50("ngModel",t.editModel.hours),e.R7$(4),e.AVh("changed",t.selected&&t.editModel.notes!==t.selected.notes),e.R50("ngModel",t.editModel.notes),e.R7$(),e.Y8G("ngIf",t.isEditDirty),e.R7$(4),e.Y8G("disabled",!t.isEditDirty)}}function V(n,l){if(1&n&&(e.j41(0,"div",44)(1,"div",45)(2,"p",46)(3,"span",47),e.EFF(4,"\u{1f3db}\ufe0f"),e.k0s(),e.EFF(5," Facility Details"),e.k0s(),e.DNE(6,O,18,11,"div",48)(7,D,47,25,"ng-template",null,0,e.C5r),e.k0s()()),2&n){const t=l.ngIf,a=e.sdS(8),i=e.XpG();e.BMQ("aria-labelledby","facility-modal-title-"+t.id),e.R7$(6),e.Y8G("ngIf",!i.editing)("ngIfElse",a)}}function N(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",43),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cancelCreate())}),e.k0s()}}function B(n,l){1&n&&(e.j41(0,"p",81),e.EFF(1,"Name is required."),e.k0s())}function S(n,l){1&n&&(e.j41(0,"p",81),e.EFF(1,"Status is required."),e.k0s())}function X(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",83)(1,"div",45)(2,"p",84)(3,"span",47),e.EFF(4,"\u2795"),e.k0s(),e.EFF(5," New Facility"),e.k0s(),e.j41(6,"form",85),e.bIt("ngSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.submitCreateForm())}),e.j41(7,"div",59)(8,"label",86),e.EFF(9,"Name "),e.j41(10,"span",61),e.EFF(11,"*"),e.k0s()(),e.j41(12,"input",87),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.name,i)||(o.createModel.name=i),e.Njj(i)}),e.k0s(),e.DNE(13,B,2,0,"p",63),e.k0s(),e.j41(14,"div",64)(15,"div")(16,"label",88),e.EFF(17,"Type "),e.j41(18,"span",61),e.EFF(19,"*"),e.k0s()(),e.j41(20,"input",89),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.type,i)||(o.createModel.type=i),e.Njj(i)}),e.k0s()(),e.j41(21,"div")(22,"label",90),e.EFF(23,"Location "),e.j41(24,"span",61),e.EFF(25,"*"),e.k0s()(),e.j41(26,"input",91),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.location,i)||(o.createModel.location=i),e.Njj(i)}),e.k0s()()(),e.j41(27,"div",64)(28,"div")(29,"label",92),e.EFF(30,"Status "),e.j41(31,"span",61),e.EFF(32,"*"),e.k0s()(),e.j41(33,"input",93),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.status,i)||(o.createModel.status=i),e.Njj(i)}),e.k0s(),e.DNE(34,S,2,0,"p",63),e.k0s(),e.j41(35,"div")(36,"label",94),e.EFF(37,"Capacity"),e.k0s(),e.j41(38,"input",95),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.capacity,i)||(o.createModel.capacity=i),e.Njj(i)}),e.k0s()()(),e.j41(39,"div",59)(40,"label",96),e.EFF(41,"Operating Hours"),e.k0s(),e.j41(42,"input",97),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.hours,i)||(o.createModel.hours=i),e.Njj(i)}),e.k0s()(),e.j41(43,"div",59)(44,"label",98),e.EFF(45,"Description"),e.k0s(),e.j41(46,"textarea",99),e.mxI("ngModelChange",function(i){e.eBV(t);const o=e.XpG();return e.DH7(o.createModel.notes,i)||(o.createModel.notes=i),e.Njj(i)}),e.k0s()(),e.j41(47,"div",78)(48,"button",100),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cancelCreate())}),e.EFF(49,"Cancel"),e.k0s(),e.j41(50,"button",80),e.EFF(51),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(12),e.R50("ngModel",t.createModel.name),e.R7$(),e.Y8G("ngIf",t.createSubmitted&&!t.createModel.name),e.R7$(7),e.R50("ngModel",t.createModel.type),e.R7$(6),e.R50("ngModel",t.createModel.location),e.R7$(7),e.R50("ngModel",t.createModel.status),e.R7$(),e.Y8G("ngIf",t.createSubmitted&&!t.createModel.status),e.R7$(4),e.R50("ngModel",t.createModel.capacity),e.R7$(4),e.R50("ngModel",t.createModel.hours),e.R7$(4),e.R50("ngModel",t.createModel.notes),e.R7$(2),e.Y8G("disabled",t.creating),e.R7$(2),e.Y8G("disabled",t.creating||!t.createModel.name||!t.createModel.type||!t.createModel.location||!t.createModel.status),e.R7$(),e.JRh(t.creating?"Saving\u2026":"Create Facility")}}let Y=(()=>{class n{constructor(t){this.auth=t,this.toast=(0,e.WQX)(p.f),this.http=(0,e.WQX)(_.Qq),this.facilities=[],this.loading=!0,this.error=null,this.trackByFacility=(a,i)=>i.id,this.showCreate=!1,this.creating=!1,this.createSubmitted=!1,this.createModel={name:"",type:"",location:"",status:"Operational",capacity:void 0,hours:"",notes:""},this.showView=!1,this.selected=null,this.editing=!1,this.editSubmitted=!1,this.editModel={},this.savingEdit=!1,this.http.get("https://my-json-db-3.onrender.com/facilities").subscribe({next:a=>{this.facilities=a,this.loading=!1},error:a=>{console.error("Failed to load facilities",a),this.error="Failed to load facilities",this.loading=!1}})}openViewModal(t){this.selected=t,this.showView=!0,document.body.style.overflow="hidden",this.editing=!1,this.editSubmitted=!1}closeViewModal(){this.showView=!1,this.selected=null,document.body.style.overflow="",this.editing=!1,this.editSubmitted=!1,this.editModel={}}startEdit(){!this.selected||!this.auth.isAdmin()||(this.editModel={...this.selected},this.editing=!0,this.editSubmitted=!1)}cancelEdit(){this.editing=!1,this.editSubmitted=!1,this.editModel={}}saveEdit(){if(this.editSubmitted=!0,!(this.editModel.name&&this.editModel.type&&this.editModel.location&&this.editModel.status&&this.selected))return;const t=this.selected.id,a={...this.selected,...this.editModel,id:t};this.savingEdit=!0,this.http.put(`https://my-json-db-3.onrender.com/facilities/${t}`,a).subscribe({next:i=>{this.facilities=this.facilities.map(o=>o.id===t?i:o),this.selected=i,this.toast.success("Facility updated"),this.editing=!1,this.editSubmitted=!1,this.editModel={},this.savingEdit=!1},error:i=>{console.error("Failed to update facility",i),this.toast.error("Failed to update facility"),this.savingEdit=!1}})}get isEditDirty(){return!!this.selected&&["name","type","location","status","capacity","hours","notes"].some(a=>this.editModel[a]!==this.selected[a])}openCreateModal(){this.auth.isAdmin()&&(this.showCreate=!0,document.body.style.overflow="hidden")}cancelCreate(){this.showCreate=!1,document.body.style.overflow="",this.createSubmitted=!1,this.createModel={name:"",type:"",location:"",status:"Operational",capacity:void 0,hours:"",notes:""}}submitCreateForm(){if(this.createSubmitted=!0,!(this.createModel.name&&this.createModel.type&&this.createModel.location&&this.createModel.status))return;const t={name:this.createModel.name,type:this.createModel.type,location:this.createModel.location,status:this.createModel.status||"Operational",capacity:this.createModel.capacity,hours:this.createModel.hours,notes:this.createModel.notes};this.creating=!0,this.http.post("https://my-json-db-3.onrender.com/facilities",t).subscribe({next:a=>{this.facilities=[a,...this.facilities],this.creating=!1,this.showCreate=!1,document.body.style.overflow="",this.toast.success("Facility added"),this.createSubmitted=!1,this.createModel={name:"",type:"",location:"",status:"Operational",capacity:void 0,hours:"",notes:""}},error:a=>{console.error("Failed to create facility",a),this.toast.error("Failed to create facility"),this.creating=!1}})}get isAdmin(){return this.auth.isAdmin()}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(f.u))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-facilities"]],standalone:!0,features:[e.aNF],decls:16,vars:7,consts:[["editBlock",""],[1,"section-head"],["id","facilities-heading",1,"welcome-head","animate-in"],["id","facilities-intro",1,"intro-bar","facilities__intro","animate-in-delayed"],[1,"intro-bar__text"],["aria-labelledby","facilities-heading","aria-describedby","facilities-intro",1,"facilities"],["aria-live","polite",4,"ngIf"],["class","placeholder error","role","alert",4,"ngIf"],["class","facilities__list","role","list",4,"ngIf"],["class","modal-backdrop","aria-hidden","true",3,"click",4,"ngIf"],["class","modal modal--center","role","dialog","aria-modal","true",4,"ngIf"],["class","modal modal--center","role","dialog","aria-modal","true","aria-labelledby","create-facility-title",4,"ngIf"],["aria-live","polite"],["aria-hidden","true",1,"skeleton-card-grid"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"visually-hidden"],[1,"skeleton-card"],[1,"skeleton","skeleton--title",2,"width","72%"],[1,"skeleton","skeleton--text","sm",2,"width","60%"],[1,"skeleton","skeleton--text","sm",2,"width","50%"],[1,"skeleton","skeleton--pill",2,"width","35%","margin-top","auto"],["role","alert",1,"placeholder","error"],["role","list",1,"facilities__list"],["class","facility-card facility-card--add","role","listitem",4,"ngIf"],["class","facility-card","role","listitem",4,"ngFor","ngForOf","ngForTrackBy"],["role","listitem",1,"facility-card","facility-card--add"],["type","button","aria-label","Add new facility",1,"add-card-btn",3,"click"],["aria-hidden","true",1,"add-card-btn__icon"],[1,"add-card-btn__text"],["role","listitem",1,"facility-card"],[1,"facility-card__name"],[1,"facility-card__meta"],[1,"facility-card__status"],[1,"status-badge"],["class","capacity",4,"ngIf"],["class","facility-card__hours",4,"ngIf"],["class","facility-card__notes",4,"ngIf"],["type","button",1,"facility-card__action",3,"click"],[1,"capacity"],[1,"facility-card__hours"],[1,"label"],[1,"value"],[1,"facility-card__notes"],["aria-hidden","true",1,"modal-backdrop",3,"click"],["role","dialog","aria-modal","true",1,"modal","modal--center"],[1,"modal__inner"],["aria-label","Facility details section",1,"modal__section-title"],["aria-hidden","true",1,"modal__icon"],["class","facility-view",4,"ngIf","ngIfElse"],[1,"facility-view"],[1,"modal__title",3,"id"],[1,"modal__meta"],[4,"ngIf"],[1,"modal__body"],["role","group","aria-label","Facility actions",1,"modal__footer"],["type","button","class","modal__btn modal__btn--primary","aria-label","Edit facility",3,"click",4,"ngIf"],["type","button","aria-label","Close dialog",1,"modal__btn","modal__btn--secondary",3,"click"],["type","button","aria-label","Edit facility",1,"modal__btn","modal__btn--primary",3,"click"],["novalidate","","aria-label","Edit facility form",1,"create-form",3,"ngSubmit"],[1,"form__row"],["for","edit-fac-name"],["aria-hidden","true",1,"req"],["id","edit-fac-name","name","name","type","text","required","",3,"ngModelChange","ngModel"],["class","form__err",4,"ngIf"],[1,"form__row","form__row--inline"],["for","edit-fac-type"],["id","edit-fac-type","name","type","type","text","required","",3,"ngModelChange","ngModel"],["for","edit-fac-location"],["id","edit-fac-location","name","location","type","text","required","",3,"ngModelChange","ngModel"],["for","edit-fac-status"],["id","edit-fac-status","name","status","type","text","required","",3,"ngModelChange","ngModel"],["for","edit-fac-capacity"],["id","edit-fac-capacity","name","capacity","type","number","min","0",3,"ngModelChange","ngModel"],["for","edit-fac-hours"],["id","edit-fac-hours","name","hours","type","text",3,"ngModelChange","ngModel"],["for","edit-fac-notes"],["id","edit-fac-notes","name","notes","rows","3",3,"ngModelChange","ngModel"],["class","form__legend",4,"ngIf"],[1,"form__actions"],["type","button",1,"btn","btn--secondary",3,"click"],["type","submit",1,"btn","btn--primary",3,"disabled"],[1,"form__err"],[1,"form__legend"],["role","dialog","aria-modal","true","aria-labelledby","create-facility-title",1,"modal","modal--center"],["id","create-facility-title",1,"modal__section-title"],["novalidate","",1,"create-form",3,"ngSubmit"],["for","new-fac-name"],["id","new-fac-name","name","name","type","text","required","",3,"ngModelChange","ngModel"],["for","new-fac-type"],["id","new-fac-type","name","type","type","text","required","",3,"ngModelChange","ngModel"],["for","new-fac-location"],["id","new-fac-location","name","location","type","text","required","",3,"ngModelChange","ngModel"],["for","new-fac-status"],["id","new-fac-status","name","status","type","text","required","","placeholder","Operational",3,"ngModelChange","ngModel"],["for","new-fac-capacity"],["id","new-fac-capacity","name","capacity","type","number","min","0",3,"ngModelChange","ngModel"],["for","new-fac-hours"],["id","new-fac-hours","name","hours","type","text","placeholder","Mon-Fri 8:00 AM \u2013 5:00 PM",3,"ngModelChange","ngModel"],["for","new-fac-notes"],["id","new-fac-notes","name","notes","rows","3",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn--secondary",3,"click","disabled"]],template:function(a,i){1&a&&(e.j41(0,"div",1)(1,"h2",2),e.EFF(2,"Municipal "),e.j41(3,"em"),e.EFF(4,"Facilities"),e.k0s()()(),e.j41(5,"div",3)(6,"p",4),e.EFF(7,"Track public buildings, venues, maintenance schedules, and utilization insights."),e.k0s()(),e.j41(8,"section",5),e.DNE(9,u,5,2,"div",6)(10,h,2,1,"div",7)(11,C,3,3,"div",8),e.k0s(),e.DNE(12,k,1,0,"div",9)(13,V,9,3,"div",10)(14,N,1,0,"div",9)(15,X,52,12,"div",11)),2&a&&(e.R7$(9),e.Y8G("ngIf",i.loading),e.R7$(),e.Y8G("ngIf",!i.loading&&i.error),e.R7$(),e.Y8G("ngIf",!i.loading&&!i.error),e.R7$(),e.Y8G("ngIf",i.showView),e.R7$(),e.Y8G("ngIf",i.showView&&i.selected),e.R7$(),e.Y8G("ngIf",i.showCreate),e.R7$(),e.Y8G("ngIf",i.showCreate))},dependencies:[r.pM,r.bT,s.YN,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.VZ,s.vS,s.cV],styles:['.welcome-head[_ngcontent-%COMP%]{position:relative;margin:0 0 1.1rem;font-size:clamp(1.15rem,1.9vw + .6rem,2.05rem);font-weight:700;letter-spacing:.55px;color:#1e2766;line-height:1.18;text-shadow:0 2px 6px rgba(0,0,0,.05);padding-left:1rem}.welcome-head[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:8%;width:5px;height:84%;border-radius:3px;background:linear-gradient(180deg,#2563eb,#4f46e5 60%,#7c3aed);box-shadow:0 0 0 1px #ffffff4d,0 4px 10px -3px #00000040}.welcome-head[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:normal;color:#2563eb}@media (max-width:640px){.welcome-head[_ngcontent-%COMP%]{font-size:clamp(1.28rem,2.8vw + .72rem,2.15rem)}}.section-head[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;margin:0 0 .35rem}@keyframes _ngcontent-%COMP%_fadeSlideIn{0%{opacity:0;transform:translateY(14px)}55%{opacity:1}to{opacity:1;transform:translateY(0)}}.animate-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeSlideIn .85s cubic-bezier(.16,.72,.29,1) both}.animate-in-delayed[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeSlideIn .85s .18s cubic-bezier(.16,.72,.29,1) both}@media (prefers-reduced-motion: reduce){.animate-in[_ngcontent-%COMP%], .animate-in-delayed[_ngcontent-%COMP%]{animation:fadeSlideIn 1ms linear both}}.facilities[_ngcontent-%COMP%]{max-width:1280px;margin:40px auto 48px;padding:0 0 1.5rem;font-family:system-ui,Arial,sans-serif}.facilities__intro[_ngcontent-%COMP%]{margin:0 0 1.15rem;font-size:clamp(.8rem,.45vw + .7rem,1rem);line-height:1.5;color:#475569;letter-spacing:.38px;max-width:840px;padding-left:1rem;position:relative}.facilities__intro[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:.55rem;width:5px;height:calc(100% - .9rem);background:linear-gradient(180deg,#2563eb,#4f46e5 65%,#7c3aed);border-radius:3px;opacity:.15}.placeholder[_ngcontent-%COMP%]{margin:0;padding:1.25rem 1rem;background:#f1f5f9;border:1px dashed #94a3b8;border-radius:12px;font-size:.8rem;color:#334155;line-height:1.45}.facilities__list[_ngcontent-%COMP%]{display:grid;gap:1.1rem;grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}.facility-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #d8e0e5;border-radius:14px;padding:.9rem .9rem 1rem;display:flex;flex-direction:column;gap:.4rem;box-shadow:0 2px 6px -2px #0000001a;transition:box-shadow .28s,transform .28s}.facility-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 22px -6px #0000002e;transform:translateY(-3px)}.facility-card--add[_ngcontent-%COMP%]{align-items:center;justify-content:center;text-align:center;padding:.75rem .75rem .85rem;background:#f1f5f9;border:1px dashed #94a3b8;box-shadow:none;transition:border-color .25s,background .25s,transform .25s,box-shadow .25s}.facility-card--add[_ngcontent-%COMP%]:hover{background:#eef2f7;border-color:#2563eb;box-shadow:0 4px 14px -6px #00000038;transform:translateY(-3px)}.facility-card--add[_ngcontent-%COMP%]:focus-within{border-color:#6366f1}.add-card-btn[_ngcontent-%COMP%]{background:#34d399;color:#064e3b;border:1px solid #10b981;border-radius:10px;padding:1.35rem 1rem 1.45rem;cursor:pointer;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.55rem;font:inherit;font-weight:700;letter-spacing:.75px;position:relative;box-shadow:0 4px 14px -6px #10b98173,0 2px 6px -2px #00000047;transition:background .25s,box-shadow .25s,transform .25s;text-transform:uppercase;font-size:.7rem}.add-card-btn__icon[_ngcontent-%COMP%]{font-size:1.65rem;line-height:1;filter:drop-shadow(0 2px 4px rgba(0,0,0,.35))}.add-card-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#10b981;box-shadow:0 6px 18px -6px #10b9818c,0 3px 10px -4px #0000004d;transform:translateY(-4px);color:#022c22}.add-card-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.add-card-btn[_ngcontent-%COMP%]:focus-visible{outline:4px solid #6366f1;outline-offset:3px}.add-card-btn[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;filter:grayscale(.3)}.facility-card__name[_ngcontent-%COMP%]{margin:0;font-size:.95rem;font-weight:600;color:#1e293b;letter-spacing:.3px;line-height:1.25}.facility-card__meta[_ngcontent-%COMP%]{margin:0;font-size:.58rem;text-transform:uppercase;letter-spacing:1.1px;font-weight:600;color:#64748b}.facility-card__status[_ngcontent-%COMP%]{margin:.1rem 0 0;font-size:.62rem;display:flex;gap:.4rem;align-items:center;flex-wrap:wrap}.facility-card__status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:#2563eb;color:#fff;padding:.25rem .5rem .3rem;border-radius:5px;font-weight:600;letter-spacing:.8px;font-size:.55rem;text-transform:uppercase}.facility-card__status--maint[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ea580c,#f97316)}.facility-card__status--planned[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:linear-gradient(90deg,#6366f1,#818cf8)}.facility-card__status--oper[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:linear-gradient(90deg,#16a34a,#22c55e);box-shadow:0 0 0 1px #ffffff26 inset,0 2px 4px -1px #00000040}.facility-card__status[_ngcontent-%COMP%]   .capacity[_ngcontent-%COMP%]{font-size:.56rem;letter-spacing:.8px;font-weight:600;background:#f1f5f9;padding:.22rem .45rem .27rem;border-radius:5px;color:#475569}.facility-card__notes[_ngcontent-%COMP%]{margin:.15rem 0 0;font-size:.7rem;line-height:1.35;color:#485666}.facility-card__action[_ngcontent-%COMP%]{align-self:flex-end;margin-top:auto;background:#2563eb;color:#fff;border:none;font-size:.58rem;letter-spacing:1px;padding:.4rem .65rem .45rem;border-radius:6px;font-weight:600;cursor:pointer;box-shadow:0 2px 5px -2px #00000047;transition:background .25s,box-shadow .25s,transform .25s}.facility-card__action[_ngcontent-%COMP%]:hover{background:#1d4ed8;box-shadow:0 6px 16px -6px #00000059;transform:translateY(-2px)}.facility-card__action[_ngcontent-%COMP%]:active{transform:translateY(0)}.facility-card__action[_ngcontent-%COMP%]:focus-visible{outline:3px solid #4f46e5;outline-offset:3px}.facility-card__hours[_ngcontent-%COMP%]{margin:.1rem 0 0;font-size:.6rem;letter-spacing:.6px;font-weight:600;color:#334155;display:flex;gap:.35rem;align-items:center;flex-wrap:wrap}.facility-card__hours[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#475569}.facility-card__hours[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#1e2766}@media (max-width:640px){.facility-card[_ngcontent-%COMP%]{padding:.8rem .8rem .9rem}}']})}}return n})()}}]);