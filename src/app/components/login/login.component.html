<!-- LoginComponent template: only the modal UI. Header/user chip code was removed from header and should not live here. -->
<div class="login-modal" *ngIf="open && !auth.isAuthenticated()" role="dialog" aria-modal="true" aria-labelledby="loginDialogTitle">
	<div class="login-modal__backdrop"></div>
	<div class="login-modal__dialog" role="document">
		<button class="login-modal__close" (click)="handleClose()" aria-label="Close login dialog">Ã—</button>
		<h2 id="loginDialogTitle" class="login-modal__title">Employee Login</h2>
		<p class="login-modal__intro">Enter your credentials to continue.</p>
		<form #loginForm="ngForm" (ngSubmit)="submit(loginForm)" novalidate class="login-form" [class.submitting]="submitting">
			<div class="form-field">
				<label for="login-username">Username <span class="req">*</span></label>
				<input id="login-username" name="username" required [(ngModel)]="model.username" autocomplete="username" />
			</div>
			<div class="form-field">
				<label for="login-password">Password <span class="req">*</span></label>
				<input id="login-password" type="password" name="password" required [(ngModel)]="model.password" autocomplete="current-password" />
			</div>
			<div class="login-error" *ngIf="error">{{ error }}</div>
			<div class="login-actions">
				<button type="button" class="modal__btn modal__btn--secondary" (click)="handleClose()" [disabled]="submitting">Cancel</button>
				<button type="submit" class="modal__btn modal__btn--primary" [disabled]="submitting || loginForm.invalid">
					<span *ngIf="!submitting">Login</span>
					<span *ngIf="submitting" class="spinner" aria-hidden="true"></span>
				</button>
			</div>
		</form>
		<p class="login-audit" aria-live="polite" role="note">
			<span class="login-audit__icon" aria-hidden="true">&#9888;</span>
			<strong>Security Notice:</strong> All login attempts are recorded for security auditing.
		</p>
	</div>
</div>